{
  "hash": "9eca2179f2bd21e3cee248fc89df56ad",
  "result": {
    "markdown": "# `tabulate` {#tab} \n\n\n::: {.cell}\n\n:::\n\n\n\n\n\nMit `table` können wir sowohl uni- als auch bivariate Häufigkeitsauszählungen erstellen. \nAuch diese können wir mit `esttab` exportieren.\nAußerdem können wir auch gewichtete Tabellen exportieren.\n\n## `tab x`: One-way frequency table\n\n\n::: {.cell}\n\n```{.stata .cell-code}\ntabulate m1202\n```\n:::\n\n::: {.cell}\n\n```\n## . quiet. tabulate m1202\n## \n##                          Höchster Ausbi |      Freq.     Percent        Cum.\n## ----------------------------------------+-----------------------------------\n##                    Ohne Berufsabschluss |      1,091        5.46        5.46\n## duale o. schulische Berufsausbildung/ei |      9,297       46.56       52.03\n## Aufstiegsfortbildung (Meister, Technike |      1,725        8.64       60.67\n## Fachhochschule, Universität/ geh., höhe |      7,854       39.33      100.00\n## ----------------------------------------+-----------------------------------\n##                                   Total |     19,967      100.00\n```\n:::\n\n\nAuch hier benötigen wir `estpost`, um dann die `esttab`-Tabelle zu erstellen:\n\n\n::: {.cell}\n\n```{.stata .cell-code}\nestpost tabulate m1202\nesttab, cells(\"b(label(freq)) pct(fmt(%13.0fc)) cumpct(fmt(%13.0fc))\") ///\n       nonumber nomtitle noobs\n```\n:::\n\n::: {.cell}\n\n```\n## . quiet. estpost tabulate m1202\n## \n##        m1202 |      e(b)     e(pct)  e(cumpct) \n## -------------+---------------------------------\n##            1 |      1091   5.464016   5.464016 \n##            2 |      9297   46.56183   52.02584 \n##            3 |      1725   8.639255    60.6651 \n##            4 |      7854    39.3349        100 \n## -------------+---------------------------------\n##        Total |     19967        100            \n## \n## row labels saved in macro e(labels)\n## \n## . esttab, cells(\"b(label(freq)) pct(fmt(%13.0fc)) cumpct(fmt(%13.0fc))\") ///\n## >        nonumber nomtitle noobs\n## \n## ---------------------------------------------------\n##                      freq          pct       cumpct\n## ---------------------------------------------------\n## 1                    1091            5            5\n## 2                    9297           47           52\n## 3                    1725            9           61\n## 4                    7854           39          100\n## Total               19967          100             \n## ---------------------------------------------------\n```\n:::\n\n\n+ `varlabels()`  $\\Rightarrow$ Labels verwenden\n+ `varwidth(40)` $\\Rightarrow$ Breite anpassen sodass ganzes Label sichtbar\n\n::: {.cell}\n\n```{.stata .cell-code}\nesttab, cells(\"b(label(freq)) pct(fmt(%13.0fc)) cumpct(fmt(%13.0fc))\") ///\t \n\tnonumber nomtitle noobs ///\n\tvarlabels(`e(labels)') ///\t\n\tvarwidth(40) \n```\n:::\n\n::: {.cell}\n\n```\n## . quiet. esttab, cells(\"b(label(freq)) pct(fmt(%13.0fc)) cumpct(fmt(%13.0fc))\") ///\n## >        nonumber nomtitle noobs ///\n## >         varlabels(`e(labels)') ///      \n## >         varwidth(40) \n## \n## -------------------------------------------------------------------------------\n##                                                  freq          pct       cumpct\n## -------------------------------------------------------------------------------\n## Ohne Berufsabschluss                             1091            5            5\n## duale o. schulische Berufsausbildung/ein         9297           47           52\n## Aufstiegsfortbildung (Meister, Techniker         1725            9           61\n## Fachhochschule, Universität/ geh., höher         7854           39          100\n## Total                                           19967          100             \n## -------------------------------------------------------------------------------\n```\n:::\n\n\n\nExport:\n\n::: {.cell}\n\n```{.stata .cell-code}\nesttab using \"${res}/03_tab1.rtf\", cells(\"b(label(freq)) pct(fmt(%13.0fc)) cumpct(fmt(%13.0fc))\") ///\n\tnonumber nomtitle noobs ///\n\tvarlabels(`e(labels)') ///\n\tvarwidth(40) ///\n\treplace \n```\n:::\n\n\n\n***\n\n**[Übung 1](#table1)**\n\n***\n\n## `tab var1 var2`: Kontingenz-/Kreuztabelle\n\n\n::: {.cell}\n\n```{.stata .cell-code}\ntabulate m1202 S1\n```\n:::\n\n::: {.cell}\n\n```\n## . quiet. tabulate m1202 S1\n## \n##                       |      Geschlecht\n##        Höchster Ausbi |  männlich   weiblich |     Total\n## ----------------------+----------------------+----------\n##  Ohne Berufsabschluss |       594        497 |     1,091 \n## duale o. schulische B |     4,371      4,926 |     9,297 \n## Aufstiegsfortbildung  |     1,073        652 |     1,725 \n## Fachhochschule, Unive |     4,015      3,839 |     7,854 \n## ----------------------+----------------------+----------\n##                 Total |    10,053      9,914 |    19,967\n```\n:::\n\n\n`estpost` gibt uns hier vier Kennzahlen:\n\n+ `b`     $\\Rightarrow$ abs. Häufigkeiten\n+ `pct`     $\\Rightarrow$  rel. Häufigkeiten\n+ `colpct`    $\\Rightarrow$ Spaltenprozente\n+ `rowpct`    $\\Rightarrow$ Zeilenprozente\n\n\n::: {.cell}\n\n```{.stata .cell-code}\nestpost tabulate m1202 S1\nesttab, cell(b(fmt(%13.0fc))) unstack noobs nonumber nomtitles ///\n  collabels(none)  varlabels(`e(labels)') varwidth(40)\n```\n:::\n\n::: {.cell}\n\n```\n## . quiet. estpost tabulate m1202 S1\n## \n## S1           |                                            \n##        m1202 |      e(b)     e(pct)  e(colpct)  e(rowpct) \n## -------------+--------------------------------------------\n## männlich     |                                            \n##            1 |       594   2.974909   5.908684   54.44546 \n##            2 |      4371   21.89112   43.47956   47.01517 \n##            3 |      1073   5.373867   10.67343    62.2029 \n##            4 |      4015   20.10818   39.93833   51.12045 \n##        Total |     10053   50.34807        100   50.34807 \n## -------------+--------------------------------------------\n## weiblich     |                                            \n##            1 |       497   2.489107   5.013113   45.55454 \n##            2 |      4926   24.67071   49.68731   52.98483 \n##            3 |       652   3.265388   6.576558    37.7971 \n##            4 |      3839   19.22672   38.72302   48.87955 \n##        Total |      9914   49.65193        100   49.65193 \n## -------------+--------------------------------------------\n## Total        |                                            \n##            1 |      1091   5.464016   5.464016        100 \n##            2 |      9297   46.56183   46.56183        100 \n##            3 |      1725   8.639255   8.639255        100 \n##            4 |      7854    39.3349    39.3349        100 \n##        Total |     19967        100        100        100 \n## \n## row labels saved in macro e(labels)\n## \n## . esttab, cell(b(fmt(%13.0fc))) unstack noobs nonumber nomtitles ///\n## >   collabels(none) varlabels(`e(labels)') varwidth(40)\n## \n## -------------------------------------------------------------------------------\n##                                              männlich     weiblich        Total\n## -------------------------------------------------------------------------------\n## Ohne Berufsabschluss                              594          497        1,091\n## duale o. schulische Berufsausbildung/ein        4,371        4,926        9,297\n## Aufstiegsfortbildung (Meister, Techniker        1,073          652        1,725\n## Fachhochschule, Universität/ geh., höher        4,015        3,839        7,854\n## Total                                          10,053        9,914       19,967\n## -------------------------------------------------------------------------------\n```\n:::\n\n\nDazu noch die Labels und mit `mgroups` eine Spaltenüberschrift:\n\n::: {.cell}\n\n```{.stata .cell-code}\nesttab, cell(b(fmt(%13.0fc))) unstack noobs collabels(none) nonumber nomtitles ///\n\t\t\tvarlabels(`e(labels)') ///\n\t\t\teqlabels(, lhs(\"Ausbildungsabs.\"))  ///\n\t\t\tvarwidth(40) /// \n\t\t\tmgroups(\"Gender\" \"\", pattern(1 0 1))\n```\n:::\n\n::: {.cell}\n\n```\n## . quiet. esttab, cell(b(fmt(%13.0fc))) unstack noobs collabels(none) nonumber nomtitles ///\n## >                         varlabels(`e(labels)') ///\n## >                         eqlabels(, lhs(\"Ausbildungsabs.\"))  ///\n## >                         varwidth(40) ///\n## >                         mgroups(\"Gender\" \"\", pattern(1 0 1))\n## \n## -------------------------------------------------------------------------------\n##                                                Gender                          \n## Ausbildungsabs.                              männlich     weiblich        Total\n## -------------------------------------------------------------------------------\n## Ohne Berufsabschluss                              594          497        1,091\n## duale o. schulische Berufsausbildung/ein        4,371        4,926        9,297\n## Aufstiegsfortbildung (Meister, Techniker        1,073          652        1,725\n## Fachhochschule, Universität/ geh., höher        4,015        3,839        7,854\n## Total                                          10,053        9,914       19,967\n## -------------------------------------------------------------------------------\n```\n:::\n\n::: {.cell}\n\n```{.stata .cell-code}\nloc x \"eingefügtem Text\"\nesttab, cell(b) unstack noobs collabels(none) nonumber nomtitles ///\n\t\t\tvarlabels(`e(labels)') ///\n\t\t\teqlabels(, lhs(\"Ausbildungsabs.\"))  ///\n\t\t\tvarwidth(40) ///\n\t\t\tmgroups(\"Gender\" \"\", pattern(1 0 1)) /// Überschrift über spalten\n\t\t\ttitle(\"Hier kann ein Titel stehen\") /// titel\n\t\t\tnote(\"Und hier eine Notiz sogar mit: `x'\") // notiz\n```\n:::\n\n::: {.cell}\n\n```\n## . quiet. loc x \"eingefügtem Text\"\n## \n## . esttab, cell(b) unstack noobs collabels(none) nonumber nomtitles ///\n## >                         varlabels(`e(labels)') ///\n## >                         eqlabels(, lhs(\"Ausbildungsabs.\"))  ///\n## >                         varwidth(40) ///\n## >                         mgroups(\"Gender\" \"\", pattern(1 0 1)) /// Überschrift über spalten\n## >                         title(\"Hier kann ein Titel stehen\") /// titel\n## >                         note(\"Und hier eine Notiz sogar mit: `x'\") // notiz\n## \n## Hier kann ein Titel stehen\n## -------------------------------------------------------------------------------\n##                                                Gender                          \n## Ausbildungsabs.                              männlich     weiblich        Total\n## -------------------------------------------------------------------------------\n## Ohne Berufsabschluss                              594          497         1091\n## duale o. schulische Berufsausbildung/ein         4371         4926         9297\n## Aufstiegsfortbildung (Meister, Techniker         1073          652         1725\n## Fachhochschule, Universität/ geh., höher         4015         3839         7854\n## Total                                           10053         9914        19967\n## -------------------------------------------------------------------------------\n## Und hier eine Notiz sogar mit: eingefügtem Text\n```\n:::\n\n\n\n***\n\n**[Übung 2](#table2)**\n\n***\n\n\n\n## Gewichtete Tabelle mit `svy`\n\n\n\n::: {.cell}\n\n```{.stata .cell-code}\nsvyset _n [pweight=gew2018]\nestpost svy: tabulate  m1202 S1 , row percent count\n```\n:::\n\n::: {.cell}\n\n```{.stata .cell-code}\nesttab ., cell(b(fmt(%13.2fc))) ///\n    nostar nostar unstack ///\n\t\tnonumber nomtitles collabels(none)  ///\n\t\tvarlabels(`e(labels)') eqlabels(`e(eqlabels)', lhs(\"Ausbildungsabs.\")) ///\n\t\tmgroups(\"Gender\", pattern(0 1 0 1) span ) ///\n\t\tvarwidth(40)\n```\n:::\n\n::: {.cell}\n\n```\n## . quiet. esttab ., cell(b(fmt(%13.2fc))) ///\n## >     nostar nostar unstack ///\n## >                 nonumber nomtitles collabels(none)  ///\n## >                 varlabels(`e(labels)') eqlabels(`e(eqlabels)', lhs(\"Ausbildungsabs.\")) ///\n## >                 mgroups(\"Gender\", pattern(0 1 0 1) span ) ///\n## >                 varwidth(40)\n## \n## -------------------------------------------------------------------------------\n##                                          Gender                                \n## Ausbildungsabs.                              männlich     weiblich        Total\n## -------------------------------------------------------------------------------\n## Ohne Berufsabschluss                           594.00       497.00     1,091.00\n## duale o. schulische Berufsausbildung/ein     4,371.00     4,926.00     9,297.00\n## Aufstiegsfortbildung (Meister, Techniker     1,073.00       652.00     1,725.00\n## Fachhochschule, Universität/ geh., höher     4,015.00     3,839.00     7,854.00\n## Total                                       10,053.00     9,914.00    19,967.00\n## -------------------------------------------------------------------------------\n## N                                               19967                          \n## -------------------------------------------------------------------------------\n```\n:::\n\n::: {.cell}\n\n```{.stata .cell-code}\nesttab using \"${res}/svytab.rtf\", cell(b(fmt(%13.2fc))) ///\n    nostar nostar unstack ///\n\t\tnonumber nomtitles collabels(none)  ///\n\t\tvarlabels(`e(labels)') eqlabels(`e(eqlabels)', lhs(\"Ausbildungsabs.\")) ///\n\t\tmgroups(\"Gender\", pattern(0 1) span ) ///\n\t\tvarwidth(40) ///\n\t\treplace\n\t\nesttab . using \"${res}/svy_desc.tex\",  cell(b(fmt(%13.2fc))) ///\n\t\tnostar nostar unstack ///\n\t\tnonumber nomtitles collabels(none)  ///\n\t\tvarlabels(`e(labels)') eqlabels(`e(eqlabels)', lhs(\"Ausbildungsabs.\"))  ///\n\t\tmgroups(\"Gender\", pattern(0 1 0 1) prefix(\\multicolumn{@span}{c}{) suffix(}) span erepeat(\\cmidrule(lr){@span})) ///\n\t\tbooktabs replace\n```\n:::\n\n\n\n\n+ `e(b)` =  cell percentages\n+ `e(se)` =  standard errors of cell percentages\n+ `e(lb)` =  lower 95% confidence bounds for cell percentages\n+ `e(ub)` =  upper 95% confidence bounds for cell percentages\n+ `e(cell)` =  cell percentages\n+ `e(row)` =  row percentages\n+ `e(col)` =  column percentages\n+ `e(count)` =  weighted counts\n+ `e(obs)` =  number of observations\n\n\n\n\n## Übungen\n\n### Übung {#table1}\n\n+ Erstellen Sie eine Häufigkeitstabelle für von `gkpol`. \n+ Lassen Sie sich die Labels für `gkpol` anzeigen und passen Sie die Tabelle nach Ihren Vorstellungen an.Wie würden Sie die kumulierten Anteile aus Ihrer Tabelle ausblenden?\n+ Passen Sie die Labels für die Spalten (bspw. `N` statt `freq` und `%` statt `pct`) an und blenden Sie die kumulierte relative Häufigkeit aus.\n\n### Übung {#table2}\n\n+ Erstellen Sie eine Kreuztabelle für `gkpol` und `mobil`. \n+ Passen Sie die Beschriftung der Tabelle nach Ihren Vorstellungen an. \n+ Was müssten Sie ändern, um die Zeilen- oder Spaltenprozente anzeigen zu lassen?\n+ Fügen Sie auch eine Notiz ein und einen Titel ein\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}