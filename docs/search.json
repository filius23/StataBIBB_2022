[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Tabellenexport mit Stata",
    "section": "",
    "text": "Herzlich Willkommen\n\nDies ist das Begleitskript zum Kurs Erzeugen von Deskriptions- und Regressionstabellen mit Stata am BIBB von Andreas Filser. Der Kurs gibt eine Tour durch die Möglichkeiten zum Tabellenexport mit esttab.\nMelden Sie sich gerne bei Fragen oder Wünschen unter andreas.filser[at]uol.de\n\n   Freitag 21.10.2022\n   8:30 - 17:00 Uhr\n   Webex"
  },
  {
    "objectID": "01_basics.html",
    "href": "01_basics.html",
    "title": "1  Tabellenexport mit Stata: Grundlagen & Pakete",
    "section": "",
    "text": "Es gibt eine ganze Reihe von ados, welche einen Tabellenexport aus Stata erlauben.\nWir werden mit estout/esttab von Ben Jann arbeiten, das einige Vorteile bietet: Zunächst können damit sowohl Deskriptions- als auch Regressionstabellen exportiert werden - man muss also nur eine Syntaxlogik lernen. Dabei sind Exportbefehle für (fast) alle gängigen Deskriptionen und Regressionsmodelle vorhanden, inklusive Outputs von margins. Außerdem können damit Tabellen sowohl in Word-, Latex- und auch Excel-Formate exportiert werden - auch hier ist (fast) die gleiche Syntaxlogik verwendbar. Darüber hinaus bietet esttab die Möglichkeit einiger Formatierungseinstellungen.\nUm estout/esttab zu verwenden, müssen wir es zunächst installieren:\nDies sind die aktuellen Versionen:\nMit estout/esttab können wir Tabellen mit zusammenfassenden Statistiken und Regressionsergebnissen zu erstellen, die leicht in oder importiert werden können oder in Word verwendet werden können. Für die Latex-Verion ergibt sich der Vorteil, dass das ganze System dynamisch ist. Wenn wir etwas in unserem Do-File ändern (z. B. eine bestimmte Gruppe weglassen, eine neue Variabe aufnehmen), dann werden die Ergebnisse automatisch in LaTeX aktualisiert. Das kann eine Menge Zeit sparen, aber die Einrichtung in Latex ist sehr zeitintensiv und deren Details würden den Rahmen unseres Kurses sprengen. Ich stelle daher hier eine (sehr einfache) Latexvorlage zur Verfügung, die versierte Latex-Nutzer*innen gerne an Ihre Bedürfnisse anpassen können."
  },
  {
    "objectID": "01_basics.html#grundlagen-e-und-r",
    "href": "01_basics.html#grundlagen-e-und-r",
    "title": "1  Tabellenexport mit Stata: Grundlagen & Pakete",
    "section": "1.1 Grundlagen: e() und r()",
    "text": "1.1 Grundlagen: e() und r()\nGrundsätzlich baut esttab auf die Postestimates e() auf. Bei jedem Befehl werden im Hintergrund Werte in Matrizen und Skalere (also Zahlen) abgelegt, bspw. bei einem Regressionsmodell. Mit ereturn list können wir uns eine Liste der Postestimates ausgeben lassen:\n\nquietly reg F518_SUF zpalter\nereturn list\n\n\n\nscalars:\n                  e(N) =  16543\n               e(df_m) =  1\n               e(df_r) =  16541\n                  e(F) =  105.3561454498825\n                 e(r2) =  .0063290815436915\n               e(rmse) =  3525.162828161657\n                e(mss) =  1309236899.97876\n                e(rss) =  205551251614.9366\n               e(r2_a) =  .0062690083366028\n                 e(ll) =  -158590.4618746699\n               e(ll_0) =  -158642.9792418738\n               e(rank) =  2\n\nmacros:\n            e(cmdline) : \"regress F518_SUF zpalter\"\n              e(title) : \"Linear regression\"\n          e(marginsok) : \"XB default\"\n                e(vce) : \"ols\"\n             e(depvar) : \"F518_SUF\"\n                e(cmd) : \"regress\"\n         e(properties) : \"b V\"\n            e(predict) : \"regres_p\"\n              e(model) : \"ols\"\n          e(estat_cmd) : \"regress_estat\"\n\nmatrices:\n                  e(b) :  1 x 2\n                  e(V) :  2 x 2\n\nfunctions:\n             e(sample)   \n\n\nDas Grundprinzip ist dann immer:\n\nAuswertungsbefehl\nTabelle mit esttab erstellen\nTabelle exportieren (durch Anpassung des esttab-Befehls)\n\nDie Matrizen können wir mit matrix list, die Skalare mit scalar list + Name aufrufen, unter e(b) sind beispielsweise die Koeffizienten abgelegt:\n\nmatrix list e(b)\n\n\n\ne(b)[1,2]\n      zpalter      _cons\ny1  24.622534  2381.2797\n\n\nBei vielen deskriptiven Befehlen werden die Kennzahlen hingegen als results in r() abgelegt. An die Werte in r() kommen wird mit return list, ereturn list für e() ist dahingegen leer:\n\nquietly su F518_SUF\nereturn list\nreturn list\n\n\n\nscalars:\n                  r(N) =  16635\n              r(sum_w) =  16635\n               r(mean) =  3532.108506161707\n                r(Var) =  12467451.86889181\n                 r(sd) =  3530.927904799503\n                r(min) =  1\n                r(max) =  72000\n                r(sum) =  58756625\n\n\nDas bringt mit sich, dass wir für Deskriptionen meist mit dem Hilfsbefehl estpost die in r() abgelegten Ergebnisse in e() umwandeln müssen. Grundsätzlich sind aber die Ergebnisse aus e() und r() alle in Tabellen mit esttab exportierbar."
  },
  {
    "objectID": "01_basics.html#kurs-setup",
    "href": "01_basics.html#kurs-setup",
    "title": "1  Tabellenexport mit Stata: Grundlagen & Pakete",
    "section": "1.2 Kurs-Setup",
    "text": "1.2 Kurs-Setup\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nEinstellung für ssc install an BIBB-Arbeitsrechnern\n\n\n\n\n\nUm ados mit ssc install installieren zu können, muss die Option Connect through proxy server wie folgt gefüllt (und aktiviert) werden:\n\nHTTP proxy host: kessenich.ivbb.bund.de\nPort: 80"
  },
  {
    "objectID": "01_basics.html#init",
    "href": "01_basics.html#init",
    "title": "1  Tabellenexport mit Stata: Grundlagen & Pakete",
    "section": "1.3 Übung",
    "text": "1.3 Übung\n\nGenerieren Sie einmal BIBBBAuA_2018_suf1.0_clean.dta mit Hilfe von 00_init.do für die weiteren Aufgaben.\nTesten Sie einmal return list und ereturn list nach reg F518_SUF zpalter bzw. su zpalter"
  },
  {
    "objectID": "02_tabstat.html#summary",
    "href": "02_tabstat.html#summary",
    "title": "3  Deskriptionen",
    "section": "3.1 summary",
    "text": "3.1 summary\nHier ein Bespielbefehl für die Berechnung des arith. Mittels, des Medians, der Varianz und des Varianzkoeffizienten mit tabstat:\n\nsummarize zpalter\n\n\n\n    Variable |        Obs        Mean    Std. Dev.       Min        Max\n-------------+---------------------------------------------------------\n     zpalter |     19,836    47.19228    11.33762         15         87"
  },
  {
    "objectID": "02_tabstat.html#tabstat",
    "href": "02_tabstat.html#tabstat",
    "title": "2  Deskriptionen",
    "section": "2.2 tabstat",
    "text": "2.2 tabstat\nMit tabstat können wir eine ganze Reihe statistischer Kennzahlen für metrische/kontinuierliche Merkmale berechnen. Die Syntax hat dabei das folgende Format: tabstat varlist, s(*option*) c(stat|var)\nHier eine Übersicht der Kennzahlen:\n\n\n\n\n \n  \n    Option \n    Kennzahl \n  \n \n\n  \n    mean \n    arithm. Mittel \n  \n  \n    median \n    Median \n  \n  \n    count \n    Anzahl der Beobachtungen ohne Missings \n  \n  \n    n \n    entspricht count \n  \n  \n    sum \n    Summe der Ausprägungen \n  \n  \n    max \n    Maximum \n  \n  \n    min \n    Minimum \n  \n  \n    range \n    Spannweite = max - min \n  \n  \n    variance \n    Varianz \n  \n  \n    sd \n    Standardabweichung \n  \n  \n    cv \n    Variationskoefficient (sd/mean) \n  \n  \n    skewness \n    Schiefe \n  \n  \n    kurtosis \n    Wölbung \n  \n  \n    pX \n    X. Perzentil (5,10,25,50,75,90,95,99) \n  \n  \n    iqr \n    Interquartilsdistanz = p75 - p25 \n  \n  \n    q \n    Entspricht p25 p50 p75 \n  \n\n\n\n\n\nHier ein Bespielbefehl für die Berechnung des arith. Mittels, der Standardabweichung, der Minimum und Maximum sowie der Fallzahl mit tabstat:\n\ntabstat zpalter, s(mean sd min max n) c(stat)\n\n\n\n    variable |      mean        sd       min       max         N\n-------------+--------------------------------------------------\n     zpalter |  47.19228  11.33762        15        87     19836\n----------------------------------------------------------------\n\n\nFür Deskriptionsbefehle müssen wir immer zuerst ein estpost voranstellen:\n\nestpost tabstat F518_SUF, c(stat) stat(mean sd min max n)\nesttab, cells(\"mean sd min max count\")\n\n\n\nSummary statistics: mean sd min max count\n     for variables: F518_SUF\n\n             |   e(mean)      e(sd)     e(min)     e(max)   e(count) \n-------------+-------------------------------------------------------\n    F518_SUF |  3532.109   3530.928          1      72000      16635 \n\n \n\n\n-----------------------------------------------------------------------------\n                      (1)                                                    \n                                                                             \n                     mean           sd          min          max        count\n-----------------------------------------------------------------------------\nF518_SUF         3532.109     3530.928            1        72000        16635\n-----------------------------------------------------------------------------\nN                   16635                                                    \n-----------------------------------------------------------------------------\n\n\nWenn wir jetzt den Median hinzufügen möchten, brauchen wir ein neues estpost:\n\nesttab, cells(\"mean p50 sd min max count\")\n\n\n\n                      (1)                                                                 \n                                                                                          \n                     mean          p50           sd          min          max        count\n------------------------------------------------------------------------------------------\nF518_SUF         3532.109                  3530.928            1        72000        16635\n------------------------------------------------------------------------------------------\nN                   16635                                                                 \n------------------------------------------------------------------------------------------\n\n\ntabstat mit p50 für Median:\n\nestpost tabstat F518_SUF, c(stat) stat(mean p50 sd min max n)\nesttab, cells(\"mean p50 sd min max count\")\n\n\n\nSummary statistics: mean p50 sd min max count\n     for variables: F518_SUF\n\n             |   e(mean)     e(p50)      e(sd)     e(min)     e(max)   e(count) \n-------------+------------------------------------------------------------------\n    F518_SUF |  3532.109       3000   3530.928          1      72000      16635 \n\n \n\n \n\n\n------------------------------------------------------------------------------------------\n                      (1)                                                                 \n                                                                                          \n                     mean          p50           sd          min          max        count\n------------------------------------------------------------------------------------------\nF518_SUF         3532.109         3000     3530.928            1        72000        16635\n------------------------------------------------------------------------------------------\nN                   16635                                                                 \n------------------------------------------------------------------------------------------\n\n\nSo oder so sieht diese Tabelle sieht natürlich noch überhaupt nicht so aus, wie wir sie haben möchten. Um das anzupassen, stehen uns eine ganze Reihe an Formatierungsbefehlen zur Verfügung.\n\nnonumber \\(\\Rightarrow\\) Zahl oben ausblenden\nnomtitle \\(\\Rightarrow\\) Modelltitel oben ausblenden (hier die Leerzeile)\nnoobs \\(\\Rightarrow\\) Beobachtungszahl unten ausblenden\nlabel \\(\\Rightarrow\\) Variablenlaben verwenden\n\n\nesttab, ///\n    cells(\"mean p50 sd min max count\") ///\n    nonumber nomtitle noobs label\n\n\n\n                             mean          p50           sd          min          max        count\n--------------------------------------------------------------------------------------------------\nWie hoch ist Ih          3532.109         3000     3530.928            1        72000        16635\n--------------------------------------------------------------------------------------------------\n\n\nDas label ist hier allerdings abgeschnitten, wäre aber die Frageformulierung. Stattdessen hätten wir gernen einen Variablennamen, dazu können wir mit coeflabel() den Variablennamen und in \"\" ein Label angeben. Außerdem wollen wir die Spalten ansprechender beschriften, dazu geben wir mit collabels ebenfalls in \"\" der Reihe nach Werte an:\n\nesttab, ///\n    cells(\"mean sd min max count\") ///\n    nonumber nomtitle nonote noobs label ///\n    collabels(\"Mean\" \"SD\" \"Median\" \"Min\" \"Max\" \"N\") ///\n    coeflabel(F518_SUF \"Bruttoverdienst\")\n\n\n\n                             Mean           SD       Median          Min          Max            N\n--------------------------------------------------------------------------------------------------\nBruttoverdienst          3532.109         3000     3530.928            1        72000        16635\n--------------------------------------------------------------------------------------------------\n\n\nAbschließend möchten wir noch die Kennzahlen formatieren. Dazu können wir auf die Zahlenformate in Stata zurückgreifen - hier eine kurze Erklärung dazu.\n\nesttab, ///\n    cells(\"mean(fmt(%13.2fc)) sd(fmt(%13.2fc)) min(fmt(%13.0fc)) max(fmt(%13.0fc)) count(fmt(%6.0fc))\")  ///\n    nonumber nomtitle nonote noobs label ///\n    collabels(\"Mean\" \"SD\" \"Min\" \"Max\" \"N\") ///\n    coeflabel(F518_SUF \"Bruttoverdienst\")\n\n\n\n                             Mean           SD          Min          Max            N\n-------------------------------------------------------------------------------------\nBruttoverdienst          3,532.11     3,530.93            1       72,000       16,635\n-------------------------------------------------------------------------------------\n\n\n\nÜbung 1"
  },
  {
    "objectID": "02_tabstat.html#export",
    "href": "02_tabstat.html#export",
    "title": "2  Deskriptionen",
    "section": "2.3 export",
    "text": "2.3 export\nBisher bewegen wir uns aber immer noch im Ausgabe-Fenster von Stata. Um die Tabelle nun zu exportieren, hängen wir ein using-Statement an esttab. Für das Ausgabeformat hängen wir einfach die gewünschte Dateiendung an:\n\n.rtf für eine Datei, die mit Word geöffnet und weiterverarbeitet werden kann\n.tex für eine Latex-Datei\n.csv für eine in Excel lesbare csv-Datei (mehr zum Excel-Export hier)\n\n\nesttab using \"${res}/tab1.rtf\", ///\n    cells(\"mean(fmt(%13.2fc)) sd(fmt(%13.2fc)) min(fmt(%4.0fc)) max(fmt(%4.0fc)) count(fmt(%4.0fc))\")  ///\n    nonumber nomtitle nonote noobs label ///\n    collabels(\"Mean\" \"SD\" \"Min\" \"Max\" \"N\") ///\n    coeflabel(F518_SUF \"Bruttoverdienst\") ///\n    replace\n   \nesttab using \"${res}/tab1.tex\", ///\n    cells(\"mean(fmt(%13.2fc)) sd(fmt(%13.2fc)) min(fmt(%4.0fc)) max(fmt(%4.0fc)) count(fmt(%4.0fc))\")  ///\n    nonumber nomtitle nonote noobs label ///\n    collabels(\"Mean\" \"SD\" \"Min\" \"Max\" \"N\") ///\n    coeflabel(F518_SUF \"Bruttoverdienst\")  ///\n    replace booktabs"
  },
  {
    "objectID": "02_tabstat.html#zusätzliche-kennzahlen-hinzufügen",
    "href": "02_tabstat.html#zusätzliche-kennzahlen-hinzufügen",
    "title": "2  Deskriptionen",
    "section": "2.4 Zusätzliche Kennzahlen hinzufügen",
    "text": "2.4 Zusätzliche Kennzahlen hinzufügen\nGelegentlich möchten wir aber unserer Tabelle auch noch weitere Kennzahlen hinzufügen, bspw. aus mdesc oder fastgini.\n\nssc install mdesc\nssc install fastgini\n\nDazu können wir die estadd-Funktion nutzen. Um eine neue Spalte mit der gewünschten Kennzahl zu erhalten, müssen wir estadd matrix verwenden. Deswegen müssen wir ein klein bisschen in die matrix-Welt von Stata eintauchen, um die Werte richtig hinzufügen zu können.\n\nmdesc F518_SUF\nreturn list\nmat miss = r(miss)\nmat colname miss = F518_SUF\nmat list miss\n\n\n\n    Variable    |     Missing          Total     Percent Missing\n----------------+-----------------------------------------------\n       F518_SUF |       3,377         20,012          16.87\n----------------+-----------------------------------------------\n\n\nscalars:\n            r(percent) =  16.87487507495502\n              r(total) =  20012\n               r(miss) =  3377\n\nmacros:\n          r(miss_vars) : \"F518_SUF\"\n\n\n\n\nsymmetric miss[1,1]\n    F518_SUF\nr1      3377\n\n\nDie so formatierte \\(1x1\\) matrix können wir jetzt in unsere Tabelle einfügen, indem wir estadd matrix miss angeben:\n\nestadd mat miss\n\n\n\nadded matrix:\n               e(miss) :  1 x 1\n\n\nAnschließend können wir die Tabelle mit esttab erstellen und die Information aus mdesc unter dem Namen der hinzugefügten matrix aufrufen:\n\nesttab, cells(\"mean(fmt(%13.2fc)) sd(fmt(%13.2fc)) min max count(fmt(%13.0fc)) miss(fmt(%13.0fc))\") ///\n        noobs nomtitle nonumber label collabels(\"Mean\" \"SD\" \"Min\" \"Max\" \"N\" \"Missings\") ///\n    coeflabel(F518_SUF \"Bruttoverdienst\") \n\n\n\n                             Mean           SD          Min          Max            N     Missings\n--------------------------------------------------------------------------------------------------\nBruttoverdienst          3,532.11     3,530.93         1.00    72,000.00       16,635        3,377\n--------------------------------------------------------------------------------------------------\n\n\n\nÜbung 2"
  },
  {
    "objectID": "02_tabstat.html#mehrere-variablen",
    "href": "02_tabstat.html#mehrere-variablen",
    "title": "2  Deskriptionen",
    "section": "2.5 mehrere Variablen",
    "text": "2.5 mehrere Variablen\nWir können natürlich auch mehrere Variablen in tabstat und damit in esttab aufnehmen:\n\nestpost tabstat zpalter F518_SUF, c(stat) stat(mean sd min max n)\nesttab, cells(\"mean(fmt(%13.2fc)) sd(fmt(%13.2fc)) min max count(fmt(%13.0fc))\") noobs ///\n        nomtitle nonumber label collabels(\"Mean\" \"SD\" \"Min\" \"Max\" \"N\") ///\n        coeflabel(F518_SUF \"Bruttoverdienst\" zpalter \"Alter\") \n\n\n\n                             Mean           SD          Min          Max            N\n-------------------------------------------------------------------------------------\nAlter                       47.19        11.34        15.00        87.00       19,836\nBruttoverdienst          3,532.11     3,530.93         1.00    72,000.00       16,635\n-------------------------------------------------------------------------------------\n\n\nEtwas tricky wird’s aber, wenn wir auch hier eigene Kennzahlen miteinfügen möchten. Die r()-Skalare für mdesc (und auch fastgini) geben uns nämlich nur den Wert für die letzte Variable aus:\n\nmdesc zpalter F518_SUF\nreturn list\n\n\n\n    Variable    |     Missing          Total     Percent Missing\n----------------+-----------------------------------------------\n        zpalter |         176         20,012           0.88\n       F518_SUF |       3,377         20,012          16.87\n----------------+-----------------------------------------------\n\n\nscalars:\n            r(percent) =  16.87487507495502\n              r(total) =  20012\n               r(miss) =  3377\n\nmacros:\n          r(miss_vars) : \"zpalter F518_SUF\"\n\n\nDaher müssen wir uns hier mit einer Schleife helfen:\n\n* matrix vorbereiten\n    glo x = \"zpalter F518_SUF\" // auszuwertende Variablen\n    glo len: word count ${x}    // wie viele sind es?\n    mat m1 = J(1,${len},.)     // entsprechend lange Matrix erstellen J(Zeilen,Spalten,Inhalt)\n    mat colname m1 = ${x}       // spalten schon mal richtig benennen\n    mat list m1                 // ansehen\n\n* Schleife über die angegebenen Variablen\n    forval y = 1/$len {\n        loc v: dis  word(\"${x}\",`y') // y.tes Wort aus x in v ablegen\n        display \"`v'\"               // zur Kontrolle: v anzeigen\n        mdesc `v'                   // missings in v berechnen\n        loc res_mat = r(miss)\n        mat m1[1,`y'] = `res_mat'\n    }\n    mat l m1\n\n\n\nm1[1,2]\n     zpalter  F518_SUF\nr1         .         .\n\nzpalter\n\n    Variable    |     Missing          Total     Percent Missing\n----------------+-----------------------------------------------\n        zpalter |         176         20,012           0.88\n----------------+-----------------------------------------------\nF518_SUF\n\n    Variable    |     Missing          Total     Percent Missing\n----------------+-----------------------------------------------\n       F518_SUF |       3,377         20,012          16.87\n----------------+-----------------------------------------------\n\n\nm1[1,2]\n     zpalter  F518_SUF\nr1       176      3377\n\n\n…und dann können wir wieder zur gewohnten Routine zurück. estpost mit quietly unterdrückt den Output, den wir ja schon kennen.\n\nquietly estpost tabstat zpalter F518_SUF, c(stat) stat(mean sd min max n)\nestadd mat m1\nesttab, cells(\"count(fmt(%13.0fc)) m1(fmt(%13.0fc))\")  noobs ///\n        nomtitle nonumber label collabels(\"N\" \"Missings\") ///\n    coeflabel(F518_SUF \"Bruttoverdienst\" zpalter \"Alter\")\n\n\n\n                                N     Missings\n----------------------------------------------\nAlter                      19,836          176\nBruttoverdienst            16,635        3,377\n----------------------------------------------\n\n\n\nÜbung 3"
  },
  {
    "objectID": "02_tabstat.html#gruppenvergleich",
    "href": "02_tabstat.html#gruppenvergleich",
    "title": "2  Deskriptionen",
    "section": "2.6 Gruppenvergleich",
    "text": "2.6 Gruppenvergleich\nMit by(S1) bekommen wir einen Gruppenvergleich - hier zwischen Männern und Frauen. Die Option nototal unterdrückt dabei die total-Angabe\n\nestpost tabstat zpalter F518_SUF, by(S1) c(stat) stat(mean sd)\nestpost tabstat zpalter F518_SUF, by(S1) c(stat) stat(mean sd) nototal  \n\n\n\nSummary statistics: mean sd\n     for variables: zpalter F518_SUF\n  by categories of: S1\n\n          S1 |   e(mean)      e(sd) \n-------------+----------------------\nmännlich     |                      \n     zpalter |  46.49079   11.87744 \n    F518_SUF |  4232.735   3951.324 \n-------------+----------------------\nweiblich     |                      \n     zpalter |  47.90402   10.71604 \n    F518_SUF |  2800.926   2852.935 \n-------------+----------------------\nTotal        |                      \n     zpalter |  47.19228   11.33762 \n    F518_SUF |  3532.109   3530.928 \n\n\nSummary statistics: mean sd\n     for variables: zpalter F518_SUF\n  by categories of: S1\n\n          S1 |   e(mean)      e(sd) \n-------------+----------------------\nmännlich     |                      \n     zpalter |  46.49079   11.87744 \n    F518_SUF |  4232.735   3951.324 \n-------------+----------------------\nweiblich     |                      \n     zpalter |  47.90402   10.71604 \n    F518_SUF |  2800.926   2852.935 \n\n\nMit par bekommen wir den entsprechenden Wert in Klammern angezeigt:\n\nesttab, cells(mean(fmt(%10.1fc)) sd(fmt(%13.3fc) par)) nostar  nonumber unstack ///\n  nomtitle nonote noobs  ///\n   collabels(none)  ///\n   eqlabels(\"Männer\" \"Frauen\") /// \n   nomtitles ///\n   coeflabel(F518_SUF \"Bruttoverdienst\" zpalter \"Alter\")\n\n\n\n                   Männer       Frauen\n--------------------------------------\nAlter                46.5         47.9\n                 (11.877)     (10.716)\nBruttoverd~t      4,232.7      2,800.9\n              (3,951.324)  (2,852.935)\n--------------------------------------\n\n\nUm die in cells() angegebenen Werte in eine Zeile zu bringen, müssen wir sie in \"\" setzen.\n\nesttab, cells(\"mean(fmt(%10.1fc)) sd(fmt(%13.3fc) par)\") nostar  nonumber unstack ///\n  nomtitle nonote noobs label  ///\n   collabels(none)  ///\n   eqlabels(\"Männer\" \"Frauen\") /// \n   nomtitles ///\n   coeflabel(F518_SUF \"Bruttoverdienst\" zpalter \"Alter\")   \n\n\n\n                           Männer                    Frauen             \n------------------------------------------------------------------------\nAlter                        46.5     (11.877)         47.9     (10.716)\n\nBruttoverdienst           4,232.7  (3,951.324)      2,800.9  (2,852.935)\n------------------------------------------------------------------------\n\n\nMit collabels() können wir die Werte auch beschriften.\n\nesttab, cells(\"mean(fmt(%10.1fc)) sd(fmt(%13.3fc) par)\") nostar  nonumber unstack ///\n  nomtitle nonote noobs label  ///\n   collabels(\"Mean\" \"SD\" \"Mean\" \"SD\") ///\n   eqlabels(\"Männer\" \"Frauen\") /// \n   nomtitles ///\n   coeflabel(F518_SUF \"Bruttoverdienst\" zpalter \"Alter\")   \n\n\n\n                           Männer                    Frauen             \n                             Mean           SD         Mean           SD\n------------------------------------------------------------------------\nAlter                        46.5     (11.877)         47.9     (10.716)\nBruttoverdienst           4,232.7  (3,951.324)      2,800.9  (2,852.935)\n------------------------------------------------------------------------\n\n\n\nÜbung 4"
  },
  {
    "objectID": "02_tabstat.html#übungen",
    "href": "02_tabstat.html#übungen",
    "title": "2  Deskriptionen",
    "section": "2.7 Übungen",
    "text": "2.7 Übungen\n\n2.7.1 Übung\n\nErstellen Sie eine Überblickstabelle für F200 (Wochenarbeitszeit) mit Min, Mean, SD, 1. Quartil (p25), Median, 3. Quartil (p75) und der Anzahl der Beobachtungen.\nLabeln Sie die Spalten mit den Kennzahlen und auch die Variable.\n\n\n\n2.7.2 Übung\n\nErgänzen Sie die Tabelle von Übung 1 F200 um fastgini - so kommen Sie an die abgelegte Info:\n\n\nssc install fastgini // falls nicht schon installiert\nfastgini F518_SUF\nreturn list\n\n\n\n2.7.3 Übung\n\nVerändern Sie die oben gezeigte Schleife so, dass nicht mehr die Anzahl, sondern der Anteil der Missings eingefügt wird.\n\n\nmdesc zpalter F518_SUF\nreturn list \n\n\n\n2.7.4 Übung\n\nErweitern Sie den Gruppenvergleich um die Variablen az (Wochenarbeitszeit) und F1104 (Jahr des Schulabschlusses)\nWo könnten Sie die Nachkommastellen verändern? Verändern Sie die Anzeige für die Mittelwerte auf 3 Nachkommastellen\nLassen Sie sich in auch den Median ausgeben. Legen Sie dafür 0 Nachkommastellen als Format fest. Denken Sie daran, estpost neu zu konfigurieren.\nPassen Sie die Syntax in cells() an, um die Werte neben- oder untereinander angezeigt zu bekommen."
  },
  {
    "objectID": "02_tabstat.html#format",
    "href": "02_tabstat.html#format",
    "title": "2  Deskriptionen",
    "section": "2.8 Mehr zu format",
    "text": "2.8 Mehr zu format\nHier eine kurze (unvollständige) Erklärung zu den fmt()-Optionen, mehr unter help format oder hier\n\n2.8.1 %w.df\n\nMit w geben wir die Gesamtbreite des Outputs an - die Vorzeichen und Dezimaltrenner mitgezählt\nd gibt die Zahl der Dezimalstellen\nGrundsätzlich wird von “rechts” gezählt - The result is right-justified.\n\nAus der Stata-Hilfe:\nThe number 5.139 in %12.2f format displays as\n\n----+----1--\n        5.14\n\nBeispiele\n\nhelp format\n    dis strlen(\"10789.1234\")\n\n10\n\n\n\ndisplay %10.2f  10789.1234 // 0 Nachkommastellen\ndisplay %10.0f  10789.1234 // 2 Nachkommastellen\ndisplay %11.5f  10789.1234 // 0 am Ende hinzugefügt\n\n\n\n2.8.2 %w.dfc\nAnalog zu %w.df, jedoch werden Kommata für bessere Lesbarkeit eingefügt. Auch die Kommata zählen für die Breite w.\nWährend ``\nMit %w**,**dfc können wir das Format für Dezimal- und Tausendertrenner ändern: Dezimalstellen werden mit einem , abgetrennt, 1000er mit .\nBeispiele: mit fc werden Tausendertrenner eingefügt\n\ndisplay %10.2fc     10789.1234\ndisplay %10.2fc     10789.1234\n\n 10,789.12\n\n\n\ndisplay %10,2fc     10789.1234 // , und . tauschen -> \"dt Format\"\n\n\n10.789,12"
  },
  {
    "objectID": "03_table.html",
    "href": "03_table.html",
    "title": "3  tabulate",
    "section": "",
    "text": "Mit table können wir sowohl uni- als auch bivariate Häufigkeitsauszählungen erstellen. Auch diese können wir mit esttab exportieren. Außerdem können wir auch gewichtete Tabellen exportieren."
  },
  {
    "objectID": "03_table.html#tab-x-one-way-frequency-table",
    "href": "03_table.html#tab-x-one-way-frequency-table",
    "title": "3  tabulate",
    "section": "3.1 tab x: One-way frequency table",
    "text": "3.1 tab x: One-way frequency table\n\ntabulate m1202\n\n\n\n                         Höchster Ausbi |      Freq.     Percent        Cum.\n----------------------------------------+-----------------------------------\n                   Ohne Berufsabschluss |      1,091        5.46        5.46\nduale o. schulische Berufsausbildung/ei |      9,297       46.56       52.03\nAufstiegsfortbildung (Meister, Technike |      1,725        8.64       60.67\nFachhochschule, Universität/ geh., höhe |      7,854       39.33      100.00\n----------------------------------------+-----------------------------------\n                                  Total |     19,967      100.00\n\n\nAuch hier benötigen wir estpost, um dann die esttab-Tabelle zu erstellen:\n\nestpost tabulate m1202\nesttab, cells(\"b(label(freq)) pct(fmt(%13.0fc)) cumpct(fmt(%13.0fc))\") ///\n       nonumber nomtitle noobs\n\n\n\n       m1202 |      e(b)     e(pct)  e(cumpct) \n-------------+---------------------------------\n           1 |      1091   5.464016   5.464016 \n           2 |      9297   46.56183   52.02584 \n           3 |      1725   8.639255    60.6651 \n           4 |      7854    39.3349        100 \n-------------+---------------------------------\n       Total |     19967        100            \n\nrow labels saved in macro e(labels)\n\n\n---------------------------------------------------\n                     freq          pct       cumpct\n---------------------------------------------------\n1                    1091            5            5\n2                    9297           47           52\n3                    1725            9           61\n4                    7854           39          100\nTotal               19967          100             \n---------------------------------------------------\n\n\n\nvarlabels() \\(\\Rightarrow\\) Labels verwenden\nvarwidth(40) \\(\\Rightarrow\\) Breite anpassen sodass ganzes Label sichtbar\n\n\nesttab, cells(\"b(label(freq)) pct(fmt(%13.0fc)) cumpct(fmt(%13.0fc))\") ///   \n    nonumber nomtitle noobs ///\n    varlabels(`e(labels)') ///  \n    varwidth(40) \n\n\n\n                                                 freq          pct       cumpct\n-------------------------------------------------------------------------------\nOhne Berufsabschluss                             1091            5            5\nduale o. schulische Berufsausbildung/ein         9297           47           52\nAufstiegsfortbildung (Meister, Techniker         1725            9           61\nFachhochschule, Universität/ geh., höher         7854           39          100\nTotal                                           19967          100             \n-------------------------------------------------------------------------------\n\n\nExport:\n\nesttab using \"${res}/03_tab1.rtf\", cells(\"b(label(freq)) pct(fmt(%13.0fc)) cumpct(fmt(%13.0fc))\") ///\n    nonumber nomtitle noobs ///\n    varlabels(`e(labels)') ///\n    varwidth(40) ///\n    replace \n\n\nÜbung 1"
  },
  {
    "objectID": "03_table.html#tab-var1-var2-kontingenz-kreuztabelle",
    "href": "03_table.html#tab-var1-var2-kontingenz-kreuztabelle",
    "title": "3  tabulate",
    "section": "3.2 tab var1 var2: Kontingenz-/Kreuztabelle",
    "text": "3.2 tab var1 var2: Kontingenz-/Kreuztabelle\n\ntabulate m1202 S1\n\n\n\n                      |      Geschlecht\n       Höchster Ausbi |  männlich   weiblich |     Total\n----------------------+----------------------+----------\n Ohne Berufsabschluss |       594        497 |     1,091 \nduale o. schulische B |     4,371      4,926 |     9,297 \nAufstiegsfortbildung  |     1,073        652 |     1,725 \nFachhochschule, Unive |     4,015      3,839 |     7,854 \n----------------------+----------------------+----------\n                Total |    10,053      9,914 |    19,967 \n\n\nestpost gibt uns hier vier Kennzahlen:\n\nb \\(\\Rightarrow\\) abs. Häufigkeiten\npct \\(\\Rightarrow\\) rel. Häufigkeiten\ncolpct \\(\\Rightarrow\\) Spaltenprozente\nrowpct \\(\\Rightarrow\\) Zeilenprozente\n\n\nestpost tabulate m1202 S1\nesttab, cell(b(fmt(%13.0fc))) unstack noobs nonumber nomtitles ///\n  collabels(none)  varlabels(`e(labels)') varwidth(40)\n\n\n\nS1           |                                            \n       m1202 |      e(b)     e(pct)  e(colpct)  e(rowpct) \n-------------+--------------------------------------------\nmännlich     |                                            \n           1 |       594   2.974909   5.908684   54.44546 \n           2 |      4371   21.89112   43.47956   47.01517 \n           3 |      1073   5.373867   10.67343    62.2029 \n           4 |      4015   20.10818   39.93833   51.12045 \n       Total |     10053   50.34807        100   50.34807 \n-------------+--------------------------------------------\nweiblich     |                                            \n           1 |       497   2.489107   5.013113   45.55454 \n           2 |      4926   24.67071   49.68731   52.98483 \n           3 |       652   3.265388   6.576558    37.7971 \n           4 |      3839   19.22672   38.72302   48.87955 \n       Total |      9914   49.65193        100   49.65193 \n-------------+--------------------------------------------\nTotal        |                                            \n           1 |      1091   5.464016   5.464016        100 \n           2 |      9297   46.56183   46.56183        100 \n           3 |      1725   8.639255   8.639255        100 \n           4 |      7854    39.3349    39.3349        100 \n       Total |     19967        100        100        100 \n\nrow labels saved in macro e(labels)\n\n\n-------------------------------------------------------------------------------\n                                             männlich     weiblich        Total\n-------------------------------------------------------------------------------\nOhne Berufsabschluss                              594          497        1,091\nduale o. schulische Berufsausbildung/ein        4,371        4,926        9,297\nAufstiegsfortbildung (Meister, Techniker        1,073          652        1,725\nFachhochschule, Universität/ geh., höher        4,015        3,839        7,854\nTotal                                          10,053        9,914       19,967\n-------------------------------------------------------------------------------\n\n\nDazu noch die Labels und mit mgroups eine Spaltenüberschrift:\n\nesttab, cell(b(fmt(%13.0fc))) unstack noobs collabels(none) nonumber nomtitles ///\n            varlabels(`e(labels)') ///\n            eqlabels(, lhs(\"Ausbildungsabs.\"))  ///\n            varwidth(40) /// \n            mgroups(\"Gender\" \"\", pattern(1 0 1))\n\n\n\n                                               Gender                          \nAusbildungsabs.                              männlich     weiblich        Total\n-------------------------------------------------------------------------------\nOhne Berufsabschluss                              594          497        1,091\nduale o. schulische Berufsausbildung/ein        4,371        4,926        9,297\nAufstiegsfortbildung (Meister, Techniker        1,073          652        1,725\nFachhochschule, Universität/ geh., höher        4,015        3,839        7,854\nTotal                                          10,053        9,914       19,967\n-------------------------------------------------------------------------------\n\n\n\nloc x \"eingefügtem Text\"\nesttab, cell(b) unstack noobs collabels(none) nonumber nomtitles ///\n            varlabels(`e(labels)') ///\n            eqlabels(, lhs(\"Ausbildungsabs.\"))  ///\n            varwidth(40) ///\n            mgroups(\"Gender\" \"\", pattern(1 0 1)) /// Überschrift über spalten\n            title(\"Hier kann ein Titel stehen\") /// titel\n            note(\"Und hier eine Notiz sogar mit: `x'\") // notiz\n\n\n\nHier kann ein Titel stehen\n-------------------------------------------------------------------------------\n                                               Gender                          \nAusbildungsabs.                              männlich     weiblich        Total\n-------------------------------------------------------------------------------\nOhne Berufsabschluss                              594          497         1091\nduale o. schulische Berufsausbildung/ein         4371         4926         9297\nAufstiegsfortbildung (Meister, Techniker         1073          652         1725\nFachhochschule, Universität/ geh., höher         4015         3839         7854\nTotal                                           10053         9914        19967\n-------------------------------------------------------------------------------\nUnd hier eine Notiz sogar mit: eingefügtem Text\n\n\n\nÜbung 2"
  },
  {
    "objectID": "03_table.html#gewichtete-tabelle-mit-svy",
    "href": "03_table.html#gewichtete-tabelle-mit-svy",
    "title": "3  tabulate",
    "section": "3.3 Gewichtete Tabelle mit svy",
    "text": "3.3 Gewichtete Tabelle mit svy\n\nsvyset _n [pweight=gew2018]\nestpost svy: tabulate  m1202 S1 , row percent count\n\n\nesttab ., cell(b(fmt(%13.2fc))) ///\n    nostar nostar unstack ///\n        nonumber nomtitles collabels(none)  ///\n        varlabels(`e(labels)') eqlabels(`e(eqlabels)', lhs(\"Ausbildungsabs.\")) ///\n        mgroups(\"Gender\", pattern(0 1 0 1) span ) ///\n        varwidth(40)\n\n\n\n                                         Gender                                \nAusbildungsabs.                              männlich     weiblich        Total\n-------------------------------------------------------------------------------\nOhne Berufsabschluss                           594.00       497.00     1,091.00\nduale o. schulische Berufsausbildung/ein     4,371.00     4,926.00     9,297.00\nAufstiegsfortbildung (Meister, Techniker     1,073.00       652.00     1,725.00\nFachhochschule, Universität/ geh., höher     4,015.00     3,839.00     7,854.00\nTotal                                       10,053.00     9,914.00    19,967.00\n-------------------------------------------------------------------------------\nN                                               19967                          \n-------------------------------------------------------------------------------\n\n\n\nesttab using \"${res}/svytab.rtf\", cell(b(fmt(%13.2fc))) ///\n    nostar nostar unstack ///\n        nonumber nomtitles collabels(none)  ///\n        varlabels(`e(labels)') eqlabels(`e(eqlabels)', lhs(\"Ausbildungsabs.\")) ///\n        mgroups(\"Gender\", pattern(0 1) span ) ///\n        varwidth(40) ///\n        replace\n    \nesttab . using \"${res}/svy_desc.tex\",  cell(b(fmt(%13.2fc))) ///\n        nostar nostar unstack ///\n        nonumber nomtitles collabels(none)  ///\n        varlabels(`e(labels)') eqlabels(`e(eqlabels)', lhs(\"Ausbildungsabs.\"))  ///\n        mgroups(\"Gender\", pattern(0 1 0 1) prefix(\\multicolumn{@span}{c}{) suffix(}) span erepeat(\\cmidrule(lr){@span})) ///\n        booktabs replace\n\n\ne(b) = cell percentages\ne(se) = standard errors of cell percentages\ne(lb) = lower 95% confidence bounds for cell percentages\ne(ub) = upper 95% confidence bounds for cell percentages\ne(cell) = cell percentages\ne(row) = row percentages\ne(col) = column percentages\ne(count) = weighted counts\ne(obs) = number of observations"
  },
  {
    "objectID": "03_table.html#übungen",
    "href": "03_table.html#übungen",
    "title": "3  tabulate",
    "section": "3.4 Übungen",
    "text": "3.4 Übungen\n\n3.4.1 Übung\n\nErstellen Sie eine Häufigkeitstabelle für von gkpol.\nLassen Sie sich die Labels für gkpol anzeigen und passen Sie die Tabelle nach Ihren Vorstellungen an.Wie würden Sie die kumulierten Anteile aus Ihrer Tabelle ausblenden?\nPassen Sie die Labels für die Spalten (bspw. N statt freq und % statt pct) an und blenden Sie die kumulierte relative Häufigkeit aus.\n\n\n\n3.4.2 Übung\n\nErstellen Sie eine Kreuztabelle für gkpol und mobil.\nPassen Sie die Beschriftung der Tabelle nach Ihren Vorstellungen an.\nWas müssten Sie ändern, um die Zeilen- oder Spaltenprozente anzeigen zu lassen?\nFügen Sie auch eine Notiz ein und einen Titel ein"
  },
  {
    "objectID": "04_corrmat.html",
    "href": "04_corrmat.html",
    "title": "4  Korrelationsmatrix",
    "section": "",
    "text": "Häufig ist eine Korrelationsmatrix ein Bestandteil einer Datendeskription."
  },
  {
    "objectID": "04_corrmat.html#corr-x",
    "href": "04_corrmat.html#corr-x",
    "title": "4  Korrelationsmatrix",
    "section": "4.1 corr x",
    "text": "4.1 corr x\n\ncorrelate zpalter F518_SUF F200\n\n\n\n(obs=14,579)\n\n             |  zpalter F518_SUF     F200\n-------------+---------------------------\n     zpalter |   1.0000\n    F518_SUF |   0.0582   1.0000\n        F200 |  -0.0539   0.2922   1.0000\n\n\nWieder benötigen wir estpost, um dann die esttab-Tabelle zu erstellen: Mit modelwidth() können wir die Breite der Spalten steuern.\n\nestpost correlate zpalter F518_SUF F200, matrix\nesttab ., not unstack compress noobs nonumber nomtitles ///\n         varlabels(zpalter \"(1) Alter\" F518_SUF \"(2) Bruttoeinkommen\" F200 \"(3) Wochenarbeitszeit\") ///\n         eqlabels(\"(1) Alter\" \"(2) Bruttoeinkommen\" \"(3) Wochenarbeitszeit\") ///\n         varwidth(30) ///\n     modelwidth(30)\n\n\n\n             |      e(b)     e(rho)       e(p)   e(count) \n-------------+--------------------------------------------\nzpalter      |                                            \n     zpalter |         1          1                 19836 \n    F518_SUF |  .0795555   .0795555   1.21e-24      16543 \n        F200 | -.0557859  -.0557859   2.35e-13      17228 \nF518_SUF     |                                            \n    F518_SUF |         1          1                 16635 \n        F200 |  .2924452   .2924452   6.4e-287      14659 \nF200         |                                            \n        F200 |         1          1                 17376 \n\n\n---------------------------------------------------------------------\n                               (1) Alter    (2) Bru~n    (3) Woc~t   \n---------------------------------------------------------------------\n(1) Alter                              1                             \n(2) Bruttoeinkommen               0.0796***         1                \n(3) Wochenarbeitszeit            -0.0558***     0.292***         1   \n---------------------------------------------------------------------\n* p<0.05, ** p<0.01, *** p<0.001\n\n\n\nesttab  using \"${res}/corrmat.rtf\", not unstack compress noobs nonumber nomtitles ///\n         varlabels(zpalter \"(1) Alter\" F518_SUF \"(2) Bruttoeinkommen\" F200 \"(3) Wochenarbeitszeit\") ///\n         eqlabels(\"(1) Alter\" \"(2) Bruttoeinkommen\" \"(3) Wochenarbeitszeit\") ///\n         varwidth(30) ///\n         replace\n         \nesttab  using \"${res}/corrmat.tex\", not unstack compress noobs nonumber nomtitles ///\n         varlabels(zpalter \"(1) Alter\" F518_SUF \"(2) Bruttoeinkommen\" F200 \"(3) Wochenarbeitszeit\") ///\n         eqlabels(\"(1) Alter\" \"(2) Bruttoeinkommen\" \"(3) Wochenarbeitszeit\") ///\n         varwidth(30) ///\n         replace booktabs"
  },
  {
    "objectID": "04_corrmat.html#spearmans-rho",
    "href": "04_corrmat.html#spearmans-rho",
    "title": "4  Korrelationsmatrix",
    "section": "4.2 Spearman’s \\(\\rho\\)",
    "text": "4.2 Spearman’s \\(\\rho\\)\nFür den Rangkorrelationskoeffizienten müssen wir einen kleinen Umweg gehen und die Variablen mit Hilfe von egen in Ränge umwandeln:\n\nforeach v of varlist zpalter F518_SUF F200 {\n    egen rnk_`v' = rank (`v'), unique\n}\nestpost correlate rnk_zpalter rnk_F518_SUF rnk_F200, matrix\n\n\n\n             |      e(b)     e(rho)       e(p)   e(count) \n-------------+--------------------------------------------\nrnk_zpalter  |                                            \n rnk_zpalter |         1          1                 19836 \nrnk_F518_SUF |  .0971437   .0971437   5.57e-36      16543 \n    rnk_F200 | -.0654795  -.0654795   7.76e-18      17228 \nrnk_F518_SUF |                                            \nrnk_F518_SUF |         1          1                 16635 \n    rnk_F200 |  .4553877   .4553877          0      14659 \nrnk_F200     |                                            \n    rnk_F200 |         1          1                 17376 \n\n\nDanach können wir die Korrelationsmatrix auch für den Rangkorrelationskoeffizienten wie oben erstellen:\n\nesttab ., not unstack compress noobs nonumber nomtitles ///\n         varlabels(zpalter \"(1) Alter\" F518_SUF \"(2) Bruttoeinkommen\" F200 \"(3) Wochenarbeitszeit\") ///\n         eqlabels(\"(1) Alter\" \"(2) Bruttoeinkommen\" \"(3) Wochenarbeitszeit\") ///\n         varwidth(30) ///\n         modelwidth(30) ///\n         title(\"Dies ist der Spearman-Rangkorrelationskoeffizient\")\n\n\n\nDies ist der Spearman-Rangkorrelationskoeffizient\n------------------------------------------------------------------------------------------------------------------------------------\n                                                    (1) Alter               (2) Bruttoeinkommen             (3) Wochenarbeitszeit   \n------------------------------------------------------------------------------------------------------------------------------------\nrnk_zpalter                                                 1                                                                       \nrnk_F518_SUF                                           0.0971***                              1                                     \nrnk_F200                                              -0.0655***                          0.455***                              1   \n------------------------------------------------------------------------------------------------------------------------------------\n* p<0.05, ** p<0.01, *** p<0.001\n\n\n\nesttab  using \"${res}/corrmat2.rtf\", not unstack compress noobs nonumber nomtitles ///\n         varlabels(zpalter \"(1) Alter\" F518_SUF \"(2) Bruttoeinkommen\" F200 \"(3) Wochenarbeitszeit\") ///\n         eqlabels(\"(1) Alter\" \"(2) Bruttoeinkommen\" \"(3) Wochenarbeitszeit\") ///\n         varwidth(30) ///\n         replace ///\n         title(\"Dies ist der Spearman-Rangkorrelationskoeffizient\")\n         \n         \nesttab  using \"${res}/corrmat2.tex\", not unstack compress noobs nonumber nomtitles ///\n         varlabels(zpalter \"(1) Alter\" F518_SUF \"(2) Bruttoeinkommen\" F200 \"(3) Wochenarbeitszeit\") ///\n         eqlabels(\"(1) Alter\" \"(2) Bruttoeinkommen\" \"(3) Wochenarbeitszeit\") ///\n         varwidth(30) ///\n         replace booktabs ///\n         title(\"Dies ist der Spearman-Rangkorrelationskoeffizient\")\n\n\nÜbung"
  },
  {
    "objectID": "04_corrmat.html#ttest",
    "href": "04_corrmat.html#ttest",
    "title": "4  Korrelationsmatrix",
    "section": "4.3 ttest",
    "text": "4.3 ttest\nt-Test sind ebenfalls ein Klassiker. Mit ttest az, by(S1) unequal können wir einen Signifikanztest berechnen. Auch hier benötigen wir estpost, um die Ergebnisse zu speichern und dann mit esttab verarbeiten zu können.\n\nttest az, by(S1) unequal\nestpost ttest az F518_SUF, by(S1) unequal\n\n\n\n             |      e(b)   e(count)      e(se)       e(t)    e(df_t)     e(p_l)       e(p)     e(p_u)     e(N_1)    e(mu_1)     e(N_2)    e(mu_2) \n-------------+------------------------------------------------------------------------------------------------------------------------------------\n          az |  8.320936      20012    .155519   53.50431   19742.97          1          0          0      10074   42.43776       9938   34.11682 \n    F518_SUF |  1431.809      16635   53.27106   26.87781   15471.34          1   1.5e-155   7.3e-156       8495   4232.735       8140   2800.926 \n\n\n\nesttab, wide nonumber noobs\n\n\n\naz                  8.321***      (53.50)\nF518_SUF           1431.8***      (26.88)\n-----------------------------------------\nt statistics in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\n\nesttab,  cell(\"b(fmt(%13.3fc)) t(fmt(%13.3fc) star) N_1(fmt(%13.0fc)) mu_1 N_2(fmt(%13.0fc)) mu_2\") /// \n    unstack wide nonumber noobs nomtitles ///\n    collabels(\"Difference\" \"t\" \"N(M)\" \"Mean(M)\" \"N(W)\" \"Mean(W)\")                \n\n\n\n               Difference            t            N(M)      Mean(M)         N(W)      Mean(W)\n---------------------------------------------------------------------------------------------\naz                  8.321       53.504***       10,074       42.438        9,938       34.117\nF518_SUF        1,431.809       26.878***        8,495    4,232.735        8,140    2,800.926\n---------------------------------------------------------------------------------------------\n\n\n\nÜbung"
  },
  {
    "objectID": "04_corrmat.html#übungen",
    "href": "04_corrmat.html#übungen",
    "title": "4  Korrelationsmatrix",
    "section": "4.4 Übungen",
    "text": "4.4 Übungen\n\n4.4.1 Übung\n\nErstellen Sie eine Korrelationstabelle für zpalter F518_SUF F200 und F1410_01 (Jahre berufstätig in D)\n\n\n\n4.4.2 Übung\n\nErstellen Sie eine t-Testtabelle für Gruppenunterschiede zwischen Menschen mit und ohne Migrationshintergrund für die Variablen az und F518_SUF. Die Variablen zum Migrationshintergrund können Sie so erstellen (siehe 01_init.do):\n\n\ngen mig01 = Mig != 0\n\nIn mig01 steht dann 0 für keinen Migrationshintergrund und 1 für Migrationshintergrund."
  },
  {
    "objectID": "05_reg.html#regression",
    "href": "05_reg.html#regression",
    "title": "6  Regressionstabellen",
    "section": "6.1 regression",
    "text": "6.1 regression\nRegressionstabellen sind wohl der Klassiker des Tabellenexports.\nDas grundsätzliche Vorgehen für das Erstellen von Regressionstabellen mit esttab ist etwas anders als bei den Deskriptionstabellen:\n\nreg F518_SUF c.zpalter // einfaches Regressionsmodell\nestimates store reg1     // Ergebnisse speichern\nesttab reg1 // (ausgeblendet)\n\nMit ereturn list bekommen wir alle abrufbaren Informationen angezeigt:\n\n\n      Source |       SS           df       MS      Number of obs   =    16,543\n-------------+----------------------------------   F(1, 16541)     =    105.36\n       Model |  1.3092e+09         1  1.3092e+09   Prob > F        =    0.0000\n    Residual |  2.0555e+11    16,541    12426773   R-squared       =    0.0063\n-------------+----------------------------------   Adj R-squared   =    0.0063\n       Total |  2.0686e+11    16,542    12505168   Root MSE        =    3525.2\n\n------------------------------------------------------------------------------\n    F518_SUF |      Coef.   Std. Err.      t    P>|t|     [95% Conf. Interval]\n-------------+----------------------------------------------------------------\n     zpalter |   24.62253   2.398848    10.26   0.000     19.92053    29.32453\n       _cons |    2381.28    115.577    20.60   0.000     2154.736    2607.823\n------------------------------------------------------------------------------\n\n\n\nscalars:\n               e(rank) =  2\n               e(ll_0) =  -158642.9792418738\n                 e(ll) =  -158590.4618746699\n               e(r2_a) =  .0062690083366028\n                e(rss) =  205551251614.9366\n                e(mss) =  1309236899.97876\n               e(rmse) =  3525.162828161657\n                 e(r2) =  .0063290815436915\n                  e(F) =  105.3561454498825\n               e(df_r) =  16541\n               e(df_m) =  1\n                  e(N) =  16543\n\nmacros:\n            e(cmdline) : \"regress F518_SUF c.zpalter\"\n              e(title) : \"Linear regression\"\n          e(marginsok) : \"XB default\"\n                e(vce) : \"ols\"\n             e(depvar) : \"F518_SUF\"\n                e(cmd) : \"regress\"\n         e(properties) : \"b V\"\n            e(predict) : \"regres_p\"\n              e(model) : \"ols\"\n          e(estat_cmd) : \"regress_estat\"\n\nmatrices:\n                  e(b) :  1 x 2\n                  e(V) :  2 x 2\n\nfunctions:\n             e(sample)   \n\n\nMit est dir bekommen wir übrigens eine Übersicht über alle Ergebnisse. Mit restore name können wir ein Modell “aktivieren”. Mit est drop _all können wir alle estimates löschen.\nAlle unter e() abgespeicherten Informationen können wir direkt in unsere esttab einfügen. Los geht’s:"
  },
  {
    "objectID": "05_reg.html#eine-tabelle-ein-modell",
    "href": "05_reg.html#eine-tabelle-ein-modell",
    "title": "6  Regressionstabellen",
    "section": "6.2 Eine Tabelle, ein Modell",
    "text": "6.2 Eine Tabelle, ein Modell\n\nesttab reg1 // Tabelle mit Standard-Einstellungen\n\n\n\n                      (1)   \n                 F518_SUF   \n----------------------------\nzpalter             24.62***\n                  (10.26)   \n\n_cons              2381.3***\n                  (20.60)   \n----------------------------\nN                   16543   \n----------------------------\nt statistics in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nDas ist noch sehr basic. U.a. sind häufig statt der t-Werte die Standardfehler in Klammern genannt. Grundsätzlich können wir folgende Kennzahlen anfordern: + b Regressionskoeffizienten + se Standardfehler + t t-Werte + p p-Werte + ci 95%-Konfidenzintervalle + beta standardisierte Koeffizienten\n\nesttab reg1, b se(%9.3f) label // Formatierung, SE statt t + Variablen Labels\n\n\n\n                              (1)   \n                     Wie hoch i~h   \n------------------------------------\nAlter der Zielp             24.62***\n                          (2.399)   \n\nConstant                   2381.3***\n                        (115.577)   \n------------------------------------\nObservations                16543   \n------------------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nAußerdem wollen wir in der Regel nicht nur die Fallzahl, sondern auch weitere Informationen zum Modell angeben. Dabei können wir auf die Liste, die wir vorhin bei ereturn list gesehen haben, zurückgreifen.\n\nesttab reg1, b se(%9.3f) stats(N  r2 ll F) // Modellkennzahlen angeben (volle Liste oben bei ereturn list)\n\n\n\n                      (1)   \n                 F518_SUF   \n----------------------------\nzpalter             24.62***\n                  (2.399)   \n\n_cons              2381.3***\n                (115.577)   \n----------------------------\nN                   16543   \nr2                0.00633   \nll              -158590.5   \nF                   105.4   \n----------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nDiese Informationen können wir natürlich auch labeln und formatieren wie wir es schon kennengelernt haben. Auch coeflabel funktioniert hier so wie bei tabstat zuvor:\n\nesttab reg1, b se(%9.3f) /// \n    stats(r2 r2_a N, fmt(%9.4f %9.4f %9.0fc) labels(\"R²\" \"adj. R²\" \"Observations\")) /// N und R² labeln\n    coeflabel(zpalter \"Alter\" _cons \"Konstante\")  // Koeffizienten links labeln\n\n\n\n                      (1)   \n                 F518_SUF   \n----------------------------\nAlter               24.62***\n                  (2.399)   \n\nKonstante          2381.3***\n                (115.577)   \n----------------------------\nR²                 0.0063   \nadj. R²            0.0063   \nObservations       16,543   \n----------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nAußerdem können wir mit mtitles die Beschrifung anpassen und mit nonumbers die Zahl oben ausblenden. Mit title können wir einen Tabellentitel und mit note eine Notiz unten hinzufügen. Wenn wir mehrere Zeilen möchten, dann geben wir einfach \"Text in 1. Zeile\" \"Text in 2. Zeile\" an:\n\nesttab reg1, b se(%9.3f) /// \n    stats(r2 N, fmt(%9.3f %9.0g) labels(R² Observations)) ///\n    coeflabel(zpalter \"Alter\" _cons \"Konstante\") ///\n    mtitles(\"1. Modell\") /// \n    nonumbers ///\n    title(Tabellentitel)    /// Titel für die Tabelle\n    addnotes(\"erste Anmerkung\" \"zweite Anmerkung darunter\") // Notizen ganz unten\n\n\n\nTabellentitel\n----------------------------\n                1. Modell   \n----------------------------\nAlter               24.62***\n                  (2.399)   \n\nKonstante          2381.3***\n                (115.577)   \n----------------------------\nR²                  0.006   \nObservations        16543   \n----------------------------\nStandard errors in parentheses\nerste Anmerkung\nzweite Anmerkung darunter\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nAuch Signifikanzsterne anpassen, mit star()\n\nesttab reg1, b se(%9.3f) /// \n    stats(r2 N, fmt(%9.3f %9.0g) labels(R² Observations)) ///\n    coeflabel(zpalter \"Alter\" _cons \"Konstante\") ///\n    star(+ 0.10 * 0.05 ** 0.01 *** 0.001 **** 0.0001)\n\n\n\n                      (1)    \n                 F518_SUF    \n-----------------------------\nAlter               24.62****\n                  (2.399)    \n\nKonstante          2381.3****\n                (115.577)    \n-----------------------------\nR²                  0.006    \nObservations        16543    \n-----------------------------\nStandard errors in parentheses\n+ p<0.10, * p<0.05, ** p<0.01, *** p<0.001, **** p<0.0001\n\n\nDie Klammern können wir mit noparentheses unterdrücken oder mit brackets auf [] ändern.\n\n6.2.1 Neben- statt untereinander\nDafür steht uns wide zur Verfügung:\n\nesttab reg1, b se(%9.3f) /// \n    wide ///\n    stats(r2 N, fmt(%9.3f %9.0g) labels(R² Observations)) ///\n    coeflabel(zpalter \"Alter\" _cons \"Konstante\") ///\n    title(Modelltitel)  ///\n    addnotes(\"erste Anmerkung\" \"zweite Anmerkung darunter\")\n\n\n\nModelltitel\n-----------------------------------------\n                      (1)                \n                 F518_SUF                \n-----------------------------------------\nAlter               24.62***      (2.399)\nKonstante          2381.3***    (115.577)\n-----------------------------------------\nR²                  0.006                \nObservations        16543                \n-----------------------------------------\nStandard errors in parentheses\nerste Anmerkung\nzweite Anmerkung darunter\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nLeider funktioniert das nicht für mehr als zwei Kennzahlen:\n\nesttab reg1,b se(%9.3f) ci(%9.3f) p(%9.3f) /// \n            wide ///\n            stats(r2 N, fmt(%9.3f %9.0g) labels(R² Observations)) ///\n            coeflabel(zpalter \"Alter\" _cons \"Konstante\") ///\n            star(+ 0.10 * 0.05 ** 0.01 *** 0.001 **** 0.0001) ///\n            title(Modelltitel)      ///\n            addnotes(\"erste Anmerkung\" \"zweite Anmerkung darunter\")\n\n\n\nonly one allowed of z, se, p, ci, and aux()\nr(198);\n\nend of do-file\nr(198);\n\n\nHier müssen wir dann auf cells() und \"\" zurückgreifen. Mit ci_l und ci_u statt ci bekommen wir außerdem die untere und obere KI-Grenze in separaten Spalten angezeigt, was das Ganze etwas übersichtlicher macht:\n\nesttab reg1, cells(\"b se(fmt(%9.3f)) ci(fmt(%9.2f)) p(fmt(%9.3f))\")\nesttab reg1, cells(\"b se(fmt(%9.3f)) ci_l(fmt(%9.2f)) ci_u(fmt(%9.2f)) p(fmt(%9.3f))\") // Übersichtlicher: KIs aufteilen in zwei Spalten\n\n\n\n                      (1)                                       \n                 F518_SUF                                       \n                        b           se         ci95            p\n----------------------------------------------------------------\nzpalter          24.62253        2.399  19.92,29.32        0.000\n_cons             2381.28      115.577 2154.74,2607.82        0.000\n----------------------------------------------------------------\nN                   16543                                       \n----------------------------------------------------------------\n\n\n-----------------------------------------------------------------------------\n                      (1)                                                    \n                 F518_SUF                                                    \n                        b           se        min95        max95            p\n-----------------------------------------------------------------------------\nzpalter          24.62253        2.399        19.92        29.32        0.000\n_cons             2381.28      115.577      2154.74      2607.82        0.000\n-----------------------------------------------------------------------------\nN                   16543                                                    \n-----------------------------------------------------------------------------\n\n\nAuch das können wir labeln - mit collabels:\n\nesttab reg1, cells(\"b se(fmt(%9.3f)) ci_l(fmt(%9.2f)) ci_u(fmt(%9.2f)) p(fmt(%9.3f))\") ///\n            collabels(\"B\" \"SE\" \"u.KI\" \"o.KI\" \"p\")       // labels\n\n\n\n                      (1)                                                    \n                 F518_SUF                                                    \n                        B           SE         u.KI         o.KI            p\n-----------------------------------------------------------------------------\nzpalter          24.62253        2.399        19.92        29.32        0.000\n_cons             2381.28      115.577      2154.74      2607.82        0.000\n-----------------------------------------------------------------------------\nN                   16543                                                    \n-----------------------------------------------------------------------------\n\n\n\nÜbung"
  },
  {
    "objectID": "05_reg.html#kategoriale-unabhängige-variable",
    "href": "05_reg.html#kategoriale-unabhängige-variable",
    "title": "6  Regressionstabellen",
    "section": "6.3 kategoriale unabhängige Variable",
    "text": "6.3 kategoriale unabhängige Variable\nFür kategoriale unabhängige Variablen stellt sich noch die Herausforderung, dass wir die Referenzkategorie richtig angeben möchten.\n\nreg F518_SUF i.S1\nestimates store reg2\nesttab reg2,  b se(%9.3f)   ///\n    coeflabel(1.S1 \"Maenner\" 2.S1 \"Frauen\" _cons \"Konstante\")\n\n\n\n                      (1)   \n                 F518_SUF   \n----------------------------\nMaenner                 0   \n                      (.)   \n\nFrauen            -1431.8***\n                 (53.630)   \n\nKonstante          4232.7***\n                 (37.515)   \n----------------------------\nN                   16635   \n----------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nUm Referenzkategorie in der Tabelle kennzuzeichnen, muss die Regression mit xi: erstellt werden. Der Koeffizienten für S1 = 2 ist dann _IS1_2:\n\nxi: reg F518_SUF i.S1\nestimates store reg2b\nesttab reg2b,  b se(%9.3f)  /// \n    coeflabel(_IS1_2 \"Frauen\" _cons \"Konstante\")\n\n\n\n                      (1)   \n                 F518_SUF   \n----------------------------\nFrauen            -1431.8***\n                 (53.630)   \n\nKonstante          4232.7***\n                 (37.515)   \n----------------------------\nN                   16635   \n----------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nMit refcat() können wir jetzt eine Zeile in die Tabelle einfüge. Dazu geben wir die Variable an, überhalb derer die Zeile eingefügt werden soll (hier also _IS1_2) und den Text, der links in der Beschriftung angezeigt werden soll:\n\nesttab reg2b,  b se(%9.3f)  /// \n    coeflabel(_IS1_2 \"Frauen\" _cons \"Konstante\") ///\n    refcat(_IS1_2 \"Männer\")\n\n\n\n                      (1)   \n                 F518_SUF   \n----------------------------\nMänner               ref.   \n\nFrauen            -1431.8***\n                 (53.630)   \n\nKonstante          4232.7***\n                 (37.515)   \n----------------------------\nN                   16635   \n----------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nMit label(\"Referenzkategorie\") können wir ref. ersetzen. Mit below wird die Zeile unter der angegebenen Variable eingefügt.\n\nesttab reg2b,  b se(%9.3f)  /// \n    coeflabel(_IS1_2 \"Frauen\" _cons \"Konstante\") ///\n    refcat(_IS1_2 \"Männer\", label(\"Referenzkategorie\") below)   \n\n\nÜbung"
  },
  {
    "objectID": "05_reg.html#mehrere-regressionsmodelle-nebeneinander",
    "href": "05_reg.html#mehrere-regressionsmodelle-nebeneinander",
    "title": "6  Regressionstabellen",
    "section": "6.4 mehrere Regressionsmodelle nebeneinander",
    "text": "6.4 mehrere Regressionsmodelle nebeneinander\nHäufig haben wir aber mehrere Regressionsmodelle, die aufeinander aufbauen und sich alle auf die gleiche abhängige Variable beziehen. Für eine Übersicht werden solche Modelle häufig nebeneinander gestellt in einer Tabelle gezeigt. Auch das geht mit esttab.\nWir können nämlich mit estimates store (est store) auch mehrere Modelle speichern und dann namentlich aufrufen.\nDafür könnnen wir auch “wild cards” verwenden - also * als Platzhalter für “alles oder nichts” und ? für “irgendein Zeichen”. Mit est dir bekommen wir eine Liste alle gespeicherten Ergebnisse ausgegeben. estimates clear löst alle Ergebnisse, est drop name nur das Modell name.\nGenestete Modelle lassen sich mit einer Schleife elegant erstellen. Wir können dafür in globals die Kontrollvariablen angeben und anschließend die Modelle nacheinander schätzen lassen.\n\nglo mod1 \" \"\nglo mod2 \"c.zpalter\"\nglo mod3 \"c.zpalter##c.zpalter\"\nglo mod4 \"c.zpalter##c.zpalter i.m1202\"\n\nforval i = 1/4 {\n    xi: reg F518_SUF i.S1 ${mod`i'}\n    est store regm`i'\n}\nesttab regm*,  b se(%9.3f)\n\n\n\n                      (1)             (2)             (3)             (4)   \n                 F518_SUF        F518_SUF        F518_SUF        F518_SUF   \n----------------------------------------------------------------------------\n_IS1_2            -1431.8***      -1471.7***      -1496.8***      -1458.5***\n                 (53.630)        (53.722)        (53.768)        (52.124)   \n\nzpalter                             28.45***        146.5***        130.8***\n                                  (2.350)        (17.208)        (16.839)   \n\nc.zpalter#~r                                       -1.317***       -1.193***\n                                                  (0.190)         (0.186)   \n\n_Im1202_2                                                           470.2***\n                                                                (119.627)   \n\n_Im1202_3                                                          1114.5***\n                                                                (143.641)   \n\n_Im1202_4                                                          2322.9***\n                                                                (120.657)   \n\n_cons              4232.7***       2922.0***        467.3          -334.3   \n                 (37.515)       (114.755)       (372.647)       (364.132)   \n----------------------------------------------------------------------------\nN                   16635           16543           16543           16521   \n----------------------------------------------------------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nAuch hier lohnt sich aber natürlich etwas label-Arbeit:\n\nesttab regm*,  b se(%9.3f) ///\n    coeflabel(_IS1_2 \"Frauen\" zpalter \"Alter\" ///\n              c.zpalter#c.zpalter \"Alter²\" ///\n              _Im1202_2  \"dual/schul. Abs.\" ///    \n              _Im1202_3  \"Meister/Techniker\" ///\n              _Im1202_4  \"Hochschule/Uni\" ///\n              _cons \"Konstante\") ///\n    refcat(_IS1_2 \"Männer\" ///\n           _Im1202_2 \"kein Abs.\")   ///\n           nomtitle ///\n    stats(r2 N, fmt(%9.3f %9.0g) labels(R² Observations)) ///\n    varwidth(20)\n\n\n\n                              (1)             (2)             (3)             (4)   \n------------------------------------------------------------------------------------\nMänner                       ref.            ref.            ref.            ref.   \n\nFrauen                    -1431.8***      -1471.7***      -1496.8***      -1458.5***\n                         (53.630)        (53.722)        (53.768)        (52.124)   \n\nAlter                                       28.45***        146.5***        130.8***\n                                          (2.350)        (17.208)        (16.839)   \n\nAlter²                                                     -1.317***       -1.193***\n                                                          (0.190)         (0.186)   \n\nkein Abs.                                                                    ref.   \n\ndual/schul. Abs.                                                            470.2***\n                                                                        (119.627)   \n\nMeister/Techniker                                                          1114.5***\n                                                                        (143.641)   \n\nHochschule/Uni                                                             2322.9***\n                                                                        (120.657)   \n\nKonstante                  4232.7***       2922.0***        467.3          -334.3   \n                         (37.515)       (114.755)       (372.647)       (364.132)   \n------------------------------------------------------------------------------------\nR²                          0.041           0.049           0.052           0.117   \nObservations                16635           16543           16543           16521   \n------------------------------------------------------------------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\n\nÜbung"
  },
  {
    "objectID": "05_reg.html#nur-ein-koeffizient",
    "href": "05_reg.html#nur-ein-koeffizient",
    "title": "6  Regressionstabellen",
    "section": "6.5 Nur ein Koeffizient",
    "text": "6.5 Nur ein Koeffizient\nManchmal möchten wir die Tabelle etwas entrümpeln und nur den interessierenden Koeffizienten behalten, das geht mit keep():\n\nesttab regm*,  b se(%9.3f) keep(_IS1_2)\nesttab regm*,  b se(%9.3f) keep(_IS1_2 zpalter) // mehrere mit Leerzeichen\n\n\n\n                      (1)             (2)             (3)             (4)   \n                 F518_SUF        F518_SUF        F518_SUF        F518_SUF   \n----------------------------------------------------------------------------\n_IS1_2            -1431.8***      -1471.7***      -1496.8***      -1458.5***\n                 (53.630)        (53.722)        (53.768)        (52.124)   \n----------------------------------------------------------------------------\nN                   16635           16543           16543           16521   \n----------------------------------------------------------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\n----------------------------------------------------------------------------\n                      (1)             (2)             (3)             (4)   \n                 F518_SUF        F518_SUF        F518_SUF        F518_SUF   \n----------------------------------------------------------------------------\n_IS1_2            -1431.8***      -1471.7***      -1496.8***      -1458.5***\n                 (53.630)        (53.722)        (53.768)        (52.124)   \n\nzpalter                             28.45***        146.5***        130.8***\n                                  (2.350)        (17.208)        (16.839)   \n----------------------------------------------------------------------------\nN                   16635           16543           16543           16521   \n----------------------------------------------------------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nAllerdings fehlt hier jetzt die Information, welche Kontrollvariablen jeweils im Modell waren. Da kann uns estadd local weiter helfen. Damit können wir einen Text zu jedem estimate hinzufügen und den dann unten in der Tabelle ausgeben lassen. Wir erweitern unsere Schleife also und lassen sie nochmal laufen. Mit scalars(\"note Kontrollvariablen\") werden die vorher abgelegten notes dann als Zeile Kontrollvariablen in der Tabelle angezeigt. Mit modelwidth() können wir die Breite der Spalten steuern.\n\nglo mod1 \" \"\nglo mod2 \"c.zpalter\"\nglo mod3 \"c.zpalter##c.zpalter\"\nglo mod4 \"c.zpalter##c.zpalter i.m1202\"\n\nforval i = 1/4 {\n    xi: reg F518_SUF i.S1 ${mod`i'}\n    est store regm`i'\n    estadd local note \"${mod`i'}\"\n}\nesttab regm*,  b se(%9.3f) keep(_IS1_2) scalars(\"note Kontrollvariablen\")\nesttab regm*,  b se(%9.3f) keep(_IS1_2) scalars(\"note Kontrollvariablen\") ///\n    modelwidth(25) ///\n    coeflabel(_IS1_2 \"Frauen\") ///\n    refcat(_IS1_2 \"Männer\")\n\n\n\n                      (1)             (2)             (3)             (4)   \n                 F518_SUF        F518_SUF        F518_SUF        F518_SUF   \n----------------------------------------------------------------------------\n_IS1_2            -1431.8***      -1471.7***      -1496.8***      -1458.5***\n                 (53.630)        (53.722)        (53.768)        (52.124)   \n----------------------------------------------------------------------------\nN                   16635           16543           16543           16521   \nKontrollva~n                    c.zpalter    c.zpalter##c.zpalter    c.zpalter##c.zpalter i.m1202   \n----------------------------------------------------------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\n--------------------------------------------------------------------------------------------------------------------------------\n                                   (1)                          (2)                          (3)                          (4)   \n                              F518_SUF                     F518_SUF                     F518_SUF                     F518_SUF   \n--------------------------------------------------------------------------------------------------------------------------------\nMänner                            ref.                         ref.                         ref.                         ref.   \n\nFrauen                         -1431.8***                   -1471.7***                   -1496.8***                   -1458.5***\n                              (53.630)                     (53.722)                     (53.768)                     (52.124)   \n--------------------------------------------------------------------------------------------------------------------------------\nN                                16635                        16543                        16543                        16521   \nKontrollva~n                                              c.zpalter         c.zpalter##c.zpalter    c.zpalter##c.zpalter i.m1202   \n--------------------------------------------------------------------------------------------------------------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nMit der regex-Funktion ustrregexra(\"\",\"Suchtext\", \"Ersetztext\") können wir aus den Variablenangaben auch noch sprechendere Bezeichnungen machen. Die Option quietly vor dem reg-Befehl unterdrückt die Standard-Regressionstabelle von Stata.\n\nforval i = 1/4 {\n    quietly xi: reg F518_SUF i.S1 ${mod`i'}\n    est store regm`i'\n    \n    loc note \"${mod`i'}\"\n    loc note = ustrregexra(\"`note'\",\"^\\s\", \"-\") // ^\\s = \"an Anfang Leerzeichen\"\n    loc note = ustrregexra(\"`note'\",\"c.zpalter##c.zpalter\", \"Alter & Alter^2\") \n    loc note = ustrregexra(\"`note'\",\"c.zpalter\", \"Alter\")\n    loc note = ustrregexra(\"`note'\",\" i.m1202\", \", Ausbildung\")\n    estadd local note \"`note'\"\n    }\n  \nesttab regm*,  b se(%9.3f) keep(_IS1_2) scalars(\"note Kontrollvariablen\") ///\n    modelwidth(25) ///\n    varwidth(17) ///\n    coeflabel(_IS1_2 \"Frauen\") ///\n    refcat(_IS1_2 \"Männer\") ///\n    nomtitle\n\n\n\n                                        (1)                          (2)                          (3)                          (4)   \n-------------------------------------------------------------------------------------------------------------------------------------\nMänner                                 ref.                         ref.                         ref.                         ref.   \n\nFrauen                              -1431.8***                   -1471.7***                   -1496.8***                   -1458.5***\n                                   (53.630)                     (53.722)                     (53.768)                     (52.124)   \n-------------------------------------------------------------------------------------------------------------------------------------\nN                                     16635                        16543                        16543                        16521   \nKontrollvariablen                         -                        Alter              Alter & Alter^2    Alter & Alter^2, Ausbildung   \n-------------------------------------------------------------------------------------------------------------------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\n\nÜbung"
  },
  {
    "objectID": "05_reg.html#mgroups",
    "href": "05_reg.html#mgroups",
    "title": "6  Regressionstabellen",
    "section": "6.6 mehrere Modellgruppen",
    "text": "6.6 mehrere Modellgruppen\nManchmal möchten wir auch getrennte Modelle nebeneinander stellen. Auch das geht natürlich. Hier also eine Schleife über die Werte 1 und 2 von S1, also getrennte Modelle für Männer und Frauen durch die Bedingung if S1 == s am Ende des reg-Befehls:\n\nforvalues s = 1/2 {\n        \n    reg F518_SUF c.zpalter##c.zpalter if S1 == `s'\n    est store reg_`s'_1\n    estadd local note \"Alter & Alter^2\"\n    \n    reg F518_SUF c.zpalter##c.zpalter i.m1202  if S1 == `s'\n    est store reg_`s'_2\n    estadd local note \"Alter & Alter^2, Ausbildung\"\n}\nesttab reg_*\n\n\n\n                      (1)             (2)             (3)             (4)   \n                 F518_SUF        F518_SUF        F518_SUF        F518_SUF   \n----------------------------------------------------------------------------\nzpalter             213.0***        192.2***        42.43           33.35   \n                   (8.44)          (7.78)          (1.88)          (1.51)   \n\nc.zpalter#~r       -1.930***       -1.810***       -0.326          -0.217   \n                  (-6.90)         (-6.63)         (-1.31)         (-0.89)   \n\n1.m1202                                 0                               0   \n                                      (.)                             (.)   \n\n2.m1202                             390.5*                          524.5***\n                                   (2.12)                          (3.56)   \n\n3.m1202                            1172.5***                       1020.9***\n                                   (5.45)                          (5.55)   \n\n4.m1202                            2549.6***                       2046.7***\n                                  (13.72)                         (13.76)   \n\n_cons             -1210.6*        -1824.9***       1560.8**         606.5   \n                  (-2.22)         (-3.43)          (3.15)          (1.25)   \n----------------------------------------------------------------------------\nN                    8451            8442            8092            8079   \n----------------------------------------------------------------------------\nt statistics in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nMit mgroups können wir dann mehrere Spalten überschreiben. pattern gibt dabei die Gruppierung an: 1 steht für “(nächstes) Label”, 0 für “unter vorheriges einordnen”.\n\nesttab reg_*, r2 ///\n     mgroups(\"Männer\" \"Frauen\", pattern(1 0 1 0))\nesttab reg_*, r2 ///\n     mgroups(\"\" \"Männer\" \"Frauen\", pattern(1 1 0 1 ))\n\n\n\n                   Männer                          Frauen                   \n                      (1)             (2)             (3)             (4)   \n                 F518_SUF        F518_SUF        F518_SUF        F518_SUF   \n----------------------------------------------------------------------------\nzpalter             213.0***        192.2***        42.43           33.35   \n                   (8.44)          (7.78)          (1.88)          (1.51)   \n\nc.zpalter#~r       -1.930***       -1.810***       -0.326          -0.217   \n                  (-6.90)         (-6.63)         (-1.31)         (-0.89)   \n\n1.m1202                                 0                               0   \n                                      (.)                             (.)   \n\n2.m1202                             390.5*                          524.5***\n                                   (2.12)                          (3.56)   \n\n3.m1202                            1172.5***                       1020.9***\n                                   (5.45)                          (5.55)   \n\n4.m1202                            2549.6***                       2046.7***\n                                  (13.72)                         (13.76)   \n\n_cons             -1210.6*        -1824.9***       1560.8**         606.5   \n                  (-2.22)         (-3.43)          (3.15)          (1.25)   \n----------------------------------------------------------------------------\nN                    8451            8442            8092            8079   \nR-sq                0.021           0.089           0.003           0.072   \n----------------------------------------------------------------------------\nt statistics in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\n----------------------------------------------------------------------------\n                                   Männer                          Frauen   \n                      (1)             (2)             (3)             (4)   \n                 F518_SUF        F518_SUF        F518_SUF        F518_SUF   \n----------------------------------------------------------------------------\nzpalter             213.0***        192.2***        42.43           33.35   \n                   (8.44)          (7.78)          (1.88)          (1.51)   \n\nc.zpalter#~r       -1.930***       -1.810***       -0.326          -0.217   \n                  (-6.90)         (-6.63)         (-1.31)         (-0.89)   \n\n1.m1202                                 0                               0   \n                                      (.)                             (.)   \n\n2.m1202                             390.5*                          524.5***\n                                   (2.12)                          (3.56)   \n\n3.m1202                            1172.5***                       1020.9***\n                                   (5.45)                          (5.55)   \n\n4.m1202                            2549.6***                       2046.7***\n                                  (13.72)                         (13.76)   \n\n_cons             -1210.6*        -1824.9***       1560.8**         606.5   \n                  (-2.22)         (-3.43)          (3.15)          (1.25)   \n----------------------------------------------------------------------------\nN                    8451            8442            8092            8079   \nR-sq                0.021           0.089           0.003           0.072   \n----------------------------------------------------------------------------\nt statistics in parentheses\n* p<0.05, ** p<0.01, *** p<0.001"
  },
  {
    "objectID": "05_reg.html#einmal-mit-allem",
    "href": "05_reg.html#einmal-mit-allem",
    "title": "6  Regressionstabellen",
    "section": "6.7 Einmal mit allem",
    "text": "6.7 Einmal mit allem\nAll diese Formatierungen sind natürlich kombinierbar:\n\n  glo mod1 \" \"\n  glo mod2 \"c.zpalter\"\n  glo mod3 \"c.zpalter##c.zpalter\"\n  glo mod4 \"c.zpalter##c.zpalter i.m1202\"\n\n    forvalues s = 1/2 {\n            \n        xi: reg F518_SUF c.zpalter##c.zpalter if S1 == `s'\n        est store reg_`s'_1\n        estadd local note \"Alter & Alter^2\"\n        \n        xi:  reg F518_SUF c.zpalter##c.zpalter i.m1202  if S1 == `s'\n        est store reg_`s'_2\n        estadd local note \"Alter & Alter^2, Ausbildung\"\n    }\n\nesttab reg_* , ///\n        b se(%9.3f)  ///\n        nomtitle ///\n        coeflabel(_IS1_2 \"Frauen\" zpalter \"Alter\" ///\n              c.zpalter#c.zpalter \"Alter²\" ///\n              _Im1202_2  \"dual/schul. Abs.\" ///    \n              _Im1202_3  \"Meister/Techniker\" ///\n              _Im1202_4  \"Hochschule/Uni\" ///\n              _cons \"Konstante\") ///\n        stats(r2 N, fmt(%9.3f %9.0g) labels(R² Observations)) ///\n    refcat(_Im1202_2 \"kein Abs.\") ///\n     mgroups(\"Männer\" \"Frauen\", pattern(1 0 1 0)) ///\n  varwidth(20)\n\n\n\n                           Männer                          Frauen                   \n                              (1)             (2)             (3)             (4)   \n------------------------------------------------------------------------------------\nAlter                       213.0***        192.2***        42.43           33.35   \n                         (25.236)        (24.688)        (22.611)        (22.120)   \n\nAlter²                     -1.930***       -1.810***       -0.326          -0.217   \n                          (0.280)         (0.273)         (0.249)         (0.243)   \n\ndual/schul. Abs.                            390.5*                          524.5***\n                                        (183.930)                       (147.488)   \n\nMeister/Techniker                          1172.5***                       1020.9***\n                                        (215.289)                       (183.784)   \n\nHochschule/Uni                             2549.6***                       2046.7***\n                                        (185.774)                       (148.792)   \n\nKonstante                 -1210.6*        -1824.9***       1560.8**         606.5   \n                        (544.709)       (532.431)       (494.799)       (483.370)   \n------------------------------------------------------------------------------------\nR²                          0.021           0.089           0.003           0.072   \nObservations                 8451            8442            8092            8079   \n------------------------------------------------------------------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001"
  },
  {
    "objectID": "05_reg.html#übungen",
    "href": "05_reg.html#übungen",
    "title": "6  Regressionstabellen",
    "section": "6.8 Übungen",
    "text": "6.8 Übungen\n\n6.8.1 Übung\n\nErstellen Sie ein bivariates Regressionsmodell mit F518_SUF als abhängiger und az als unabhängiger Variable.\n\n\nreg F518_SUF az\n\n\nSpeichern Sie die Ergebnisse mit estimates store und erstellen Sie eine Tabelle mit esttab\nWie können Sie die Standardfehler statt der t-Werte anzeigen lassen?\nLassen Sie sich auch das R² und die Fallzahl ausgeben.\nLabeln Sie die Variablen links in der Tabelle.\nVerändern Sie das Signifikanzniveau\nLassen Sie sich den Koeffizienten, den SE, die 95%-KI-Grenzen, den t-Wert und den p-Wert für die Variable und die Konstante neben- statt untereinander anzeigen.\n\n\n\n6.8.2 Übung\n\nErstellen Sie ein bivariates Regressionsmodell mit F518_SUF als abhängiger und mig als unabhängiger Variable. In mig01 steht dann 0 für keinen Migrationshintergrund und 1 für Migrationshintergrund (siehe auch 01_init.do):\n\n\ngen mig01 = Mig != 0  if !missing(Mig)\n\n\nreg F518_SUF i.mig01\n\n\nErstellen Sie das Modell mit Hilfe von xi so, dass Sie die Referenzkategorie beschriften können.\nFÜgen Sie die Beschriftung für die Referenzkategorie ein.\n\n\n\n6.8.3 Übung\n\nErstellen Sie ein Regressionsmodell, welches schrittweise mehrere Variablen aufnimmt:\n\n\nest dir // liste alle gespeicherten Ergebnisse\nestimates clear\n\nglo mod1 \" \"\nglo mod2 \"c.zpalter\"\nglo mod3 \"c.zpalter##c.zpalter\"\nglo mod4 \"c.zpalter##c.zpalter i.m1202\"\n\nforval i = 1/4 {\n    xi: reg az i.S1 ${mod`i'}\n    est store regmx`i'\n}\n\nest dir\nesttab regmx*,  b se(%9.3f)\n\n\nStellen Sie die Ergebnisse in einer Tabelle nebeneinander dar.\nLabeln Sie Variablen und wie oben gezeigt und verändern Sie die labels\n\n\n\n6.8.4 Übung\n\nVerwenden Sie die Modellserie von gerade eben (Übung 3), behalten Sie aber den Koeffizienten für das Geschlecht in ihrer Tabelle.\nWie müssen Sie die Schleife für die Modellserie aus Übung 3 anpassen, um die Kontrollvariablen in einer Zeile unten einzufügen?\n\n\n\n6.8.5 Übung\n\nSchätzen Sie getrennte Modelle für mig01=0 und mig01=1 mit den Kontrollvariablen aus Übung 3. Passen Sie also die Schleife von oben an, sodass jeweils zwei Modelle für die Gruppen mig01=0 und mig01=1 geschätzt werden:\n\n\nforvalues m = 0/1 {\n        \n    xi: reg F518_SUF c.zpalter##c.zpalter if mig01 == `m'\n    est store reg_`s'_1\n    estadd local note \"Alter & Alter^2\"\n    \n    xi: reg F518_SUF c.zpalter##c.zpalter i.m1202  if mig01 == `m'\n    est store reg_`s'_2\n    estadd local note \"Alter & Alter^2, Ausbildung\"\n}\nesttab reg_*\n\n\nFügen Sie jetzt Gruppenlabels ein und labeln Sie die Tabelle entsprechend der kennengelernten Optionen."
  },
  {
    "objectID": "06_mixed_logit.html",
    "href": "06_mixed_logit.html",
    "title": "7  Multilevel- und logit Modelle",
    "section": "",
    "text": "Um die Odds Ratios zu erhalten, müssen wir eform verwenden:\n\nlogit nt i.S1 \nest store logm1\nesttab logm1, b se(%9.3f) \n\n\n\nIteration 0:   log likelihood = -6191.9354  \nIteration 1:   log likelihood = -6187.5538  \nIteration 2:   log likelihood =   -6187.55  \nIteration 3:   log likelihood =   -6187.55  \n\nLogistic regression                             Number of obs     =     20,012\n                                                LR chi2(1)        =       8.77\n                                                Prob > chi2       =     0.0031\nLog likelihood =   -6187.55                     Pseudo R2         =     0.0007\n\n------------------------------------------------------------------------------\n          nt |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]\n-------------+----------------------------------------------------------------\n          S1 |\n   weiblich  |   .1442729   .0487565     2.96   0.003      .048712    .2398339\n       _cons |  -2.351375   .0353592   -66.50   0.000    -2.420678   -2.282073\n------------------------------------------------------------------------------\n\n\n\n----------------------------\n                      (1)   \n                       nt   \n----------------------------\nnt                          \n1.S1                    0   \n                      (.)   \n\n2.S1                0.144** \n                  (0.049)   \n\n_cons              -2.351***\n                  (0.035)   \n----------------------------\nN                   20012   \n----------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\n\nesttab logm1, b se(%9.3f) eform // eform für Odds Ratios\n\n\n\n                      (1)   \n                       nt   \n----------------------------\nnt                          \n1.S1                    1   \n                      (.)   \n\n2.S1                1.155** \n                  (0.056)   \n----------------------------\nN                   20012   \n----------------------------\nExponentiated coefficients; Standard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nAußerdem können wir mit estadd lrtest direkt den LR-Test in die Tabelle aufnehmen:\n\nlogit nt i.S1  if !missing(zpalter)\nest store logm1b\nlogit nt i.S1 zpalter \nest store logm2\nestadd lrtest logm1b\nesttab logm*, b se(%9.3f) scalars(\"lrtest_chi2  LRTest Chi²\" lrtest_df lrtest_p)\n\n\n\n                      (1)             (2)   \n                       nt              nt   \n--------------------------------------------\nnt                                          \n1.S1                    0               0   \n                      (.)             (.)   \n\n2.S1                0.142**         0.158** \n                  (0.049)         (0.049)   \n\nzpalter                           -0.0108***\n                                  (0.002)   \n\n_cons              -2.350***       -1.854***\n                  (0.035)         (0.103)   \n--------------------------------------------\nN                   19836           19836   \nLRTest Chi²                         25.46   \nlrtest_df                               1   \nlrtest_p                      0.000000451   \n--------------------------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nMit pr2 aic bic können wir Modellkennzahlen ausgeben lassen.\n\nesttab logm*, b se(%9.3f)  pr2 aic bic\n\n\n\n                      (1)   \n                       nt   \n----------------------------\nnt                          \n1.S1                    0   \n                      (.)   \n\n2.S1                0.158** \n                  (0.049)   \n\nzpalter           -0.0108***\n                  (0.002)   \n\n_cons              -1.854***\n                  (0.103)   \n----------------------------\nN                   19836   \nLRTest Chi²         25.46   \nlrtest_df               1   \nlrtest_p      0.000000451   \n----------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nBei margins müssen wir darauf achten, die Option , post zu verwenden:\n\nlogit nt i.S1 zpalter \nmargins, dydx(*) post\nest store mar_mod2\nesttab mar_mod2, cells(\"b(fmt(a3)) se(fmt(a3)) ci_l(fmt(a3)) ci_u(fmt(a3)) p(fmt(a3))\") nonumbers\n\n\n\n                        b           se        min95        max95            p\n-----------------------------------------------------------------------------\n1.S1                    0            .            0            0            .\n2.S1               0.0133      0.00414      0.00523       0.0214      0.00126\nzpalter         -0.000911     0.000180     -0.00126    -0.000558  0.000000428\n-----------------------------------------------------------------------------\nN                   19836                                                    \n-----------------------------------------------------------------------------\n\n\nDas funktioniert natürlich auch für die predictions mit ,at():\n\nest restore logm2\nmargins, at(zpalter = (18 20(5)65) ) post\nest store pred_mod2\nesttab pred_mod2, cells(\"b(fmt(a3)) se(fmt(a3)) ci_l(fmt(a3)) ci_u(fmt(a3)) p(fmt(a3))\") nonumbers\n\n\n\n                        b           se        min95        max95            p\n-----------------------------------------------------------------------------\n1._at               0.123      0.00697        0.109        0.136            0\n2._at               0.120      0.00644        0.108        0.133            0\n3._at               0.115      0.00520        0.105        0.125            0\n4._at               0.109      0.00411        0.101        0.117            0\n5._at               0.104      0.00318       0.0980        0.110            0\n6._at              0.0993      0.00248       0.0944        0.104            0\n7._at              0.0945      0.00210       0.0904       0.0987            0\n8._at              0.0900      0.00212       0.0859       0.0942            0\n9._at              0.0857      0.00243       0.0809       0.0904            0\n10._at             0.0815      0.00288       0.0759       0.0872            0\n11._at             0.0776      0.00337       0.0710       0.0842            0\n-----------------------------------------------------------------------------\nN                   19836                                                    \n-----------------------------------------------------------------------------"
  },
  {
    "objectID": "06_mixed_logit.html#logit",
    "href": "06_mixed_logit.html#logit",
    "title": "7  Multilevel- und logit Modelle",
    "section": "7.1 logit",
    "text": "7.1 logit\nUm die Odds Ratios zu erhalten, müssen wir eform verwenden:\n\nlogit nt i.S1 \nest store logm1\nesttab logm1, b se(%9.3f) \n\n\n\nIteration 0:   log likelihood = -6191.9354  \nIteration 1:   log likelihood = -6187.5538  \nIteration 2:   log likelihood =   -6187.55  \nIteration 3:   log likelihood =   -6187.55  \n\nLogistic regression                             Number of obs     =     20,012\n                                                LR chi2(1)        =       8.77\n                                                Prob > chi2       =     0.0031\nLog likelihood =   -6187.55                     Pseudo R2         =     0.0007\n\n------------------------------------------------------------------------------\n          nt |      Coef.   Std. Err.      z    P>|z|     [95% Conf. Interval]\n-------------+----------------------------------------------------------------\n          S1 |\n   weiblich  |   .1442729   .0487565     2.96   0.003      .048712    .2398339\n       _cons |  -2.351375   .0353592   -66.50   0.000    -2.420678   -2.282073\n------------------------------------------------------------------------------\n\n\n\n----------------------------\n                      (1)   \n                       nt   \n----------------------------\nnt                          \n1.S1                    0   \n                      (.)   \n\n2.S1                0.144** \n                  (0.049)   \n\n_cons              -2.351***\n                  (0.035)   \n----------------------------\nN                   20012   \n----------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\n\nesttab logm1, b se(%9.3f) eform // eform für Odds Ratios\n\n\n\n                      (1)   \n                       nt   \n----------------------------\nnt                          \n1.S1                    1   \n                      (.)   \n\n2.S1                1.155** \n                  (0.056)   \n----------------------------\nN                   20012   \n----------------------------\nExponentiated coefficients; Standard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nAußerdem können wir mit estadd lrtest direkt den LR-Test in die Tabelle aufnehmen:\n\nlogit nt i.S1  if !missing(zpalter)\nest store logm1b\nlogit nt i.S1 zpalter \nest store logm2\nestadd lrtest logm1b\nesttab logm*, b se(%9.3f) scalars(\"lrtest_chi2  LRTest Chi²\" lrtest_df lrtest_p)\n\n\n\n                      (1)             (2)   \n                       nt              nt   \n--------------------------------------------\nnt                                          \n1.S1                    0               0   \n                      (.)             (.)   \n\n2.S1                0.142**         0.158** \n                  (0.049)         (0.049)   \n\nzpalter                           -0.0108***\n                                  (0.002)   \n\n_cons              -2.350***       -1.854***\n                  (0.035)         (0.103)   \n--------------------------------------------\nN                   19836           19836   \nLRTest Chi²                         25.46   \nlrtest_df                               1   \nlrtest_p                      0.000000451   \n--------------------------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nMit pr2 aic bic können wir Modellkennzahlen ausgeben lassen.\n\nesttab logm*, b se(%9.3f)  pr2 aic bic\n\n\n\n                      (1)   \n                       nt   \n----------------------------\nnt                          \n1.S1                    0   \n                      (.)   \n\n2.S1                0.158** \n                  (0.049)   \n\nzpalter           -0.0108***\n                  (0.002)   \n\n_cons              -1.854***\n                  (0.103)   \n----------------------------\nN                   19836   \nLRTest Chi²         25.46   \nlrtest_df               1   \nlrtest_p      0.000000451   \n----------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nBei margins müssen wir darauf achten, die Option , post zu verwenden:\n\nlogit nt i.S1 zpalter \nmargins, dydx(*) post\nest store mar_mod2\nesttab mar_mod2, cells(\"b(fmt(a3)) se(fmt(a3)) ci_l(fmt(a3)) ci_u(fmt(a3)) p(fmt(a3))\") nonumbers\n\n\n\n                        b           se        min95        max95            p\n-----------------------------------------------------------------------------\n1.S1                    0            .            0            0            .\n2.S1               0.0133      0.00414      0.00523       0.0214      0.00126\nzpalter         -0.000911     0.000180     -0.00126    -0.000558  0.000000428\n-----------------------------------------------------------------------------\nN                   19836                                                    \n-----------------------------------------------------------------------------\n\n\nDas funktioniert natürlich auch für die predictions mit ,at():\n\nest restore logm2\nmargins, at(zpalter = (18 20(5)65) ) post\nest store pred_mod2\nesttab pred_mod2, cells(\"b(fmt(a3)) se(fmt(a3)) ci_l(fmt(a3)) ci_u(fmt(a3)) p(fmt(a3))\") nonumbers\n\n\n\n                        b           se        min95        max95            p\n-----------------------------------------------------------------------------\n1._at               0.123      0.00697        0.109        0.136            0\n2._at               0.120      0.00644        0.108        0.133            0\n3._at               0.115      0.00520        0.105        0.125            0\n4._at               0.109      0.00411        0.101        0.117            0\n5._at               0.104      0.00318       0.0980        0.110            0\n6._at              0.0993      0.00248       0.0944        0.104            0\n7._at              0.0945      0.00210       0.0904       0.0987            0\n8._at              0.0900      0.00212       0.0859       0.0942            0\n9._at              0.0857      0.00243       0.0809       0.0904            0\n10._at             0.0815      0.00288       0.0759       0.0872            0\n11._at             0.0776      0.00337       0.0710       0.0842            0\n-----------------------------------------------------------------------------\nN                   19836                                                    \n-----------------------------------------------------------------------------"
  },
  {
    "objectID": "06_mixed_logit.html#mehrebenenmodelle",
    "href": "06_mixed_logit.html#mehrebenenmodelle",
    "title": "7  Multilevel- und logit Modelle",
    "section": "7.2 Mehrebenenmodelle",
    "text": "7.2 Mehrebenenmodelle\ntransform(ln*: exp(@) exp(@)) um die Werte im Random Part richtig anzuzeigen:\n\nxtmixed F518_SUF i.S1 ||Bula:\nest store mmodel\nesttab mmodel , transform(ln*: exp(@) exp(@))\n\n\n\n                      (1)   \n                 F518_SUF   \n----------------------------\nF518_SUF                    \n1.S1                    0   \n                      (.)   \n\n2.S1              -1437.4***\n                 (-26.88)   \n\n_cons              4123.8***\n                  (41.45)   \n----------------------------\nlns1_1_1                    \n_cons               354.8***\n                  (28.17)   \n----------------------------\nlnsig_e                     \n_cons              3445.8***\n                (1484.91)   \n----------------------------\nN                   16635   \n----------------------------\nt statistics in parentheses\n* p<0.05, ** p<0.01, *** p<0.001\n\n\nSo können wir die ICC hinzufügen:\n\nxtmixed F518_SUF i.S1 ||Bula:\nestat icc\nestadd scalar icc2 = r(icc2) \nesttab, se wide transform(ln*: exp(@) exp(@)) ///\n    varwidth(13) scalars(icc2)   \n\n\n\n                       (1)                \n                  F518_SUF                \n------------------------------------------\nF518_SUF                                  \n1.S1                     0             (.)\n2.S1               -1437.4***      (53.47)\n_cons               4123.8***      (99.48)\n------------------------------------------\nlns1_1_1                                  \n_cons                354.8***      (73.97)\n------------------------------------------\nlnsig_e                                   \n_cons               3445.8***      (18.90)\n------------------------------------------\nN                    16635                \nicc2                0.0105                \n------------------------------------------\nStandard errors in parentheses\n* p<0.05, ** p<0.01, *** p<0.001"
  },
  {
    "objectID": "07_misc.html#estimates-store-auch-bei-estpost",
    "href": "07_misc.html#estimates-store-auch-bei-estpost",
    "title": "7  Weitere Optionen",
    "section": "7.1 estimates store auch bei estpost",
    "text": "7.1 estimates store auch bei estpost\nWir können auch die estimates aus einem estpost speichern, um sie später wieder aufzurufen - auch nach einem Befehl, der eigentlich e() überschreibt.\n\nestpost correlate zpalter F518_SUF F200, matrix\nestimates store m1\nxi: reg az i.S1\nest store m2\n\nesttab m1, not unstack compress noobs nonumber nomtitles ///\n         varlabels(zpalter \"(1) Alter\" F518_SUF \"(2) Bruttoeinkommen\" F200 \"(3) Wochenarbeitszeit\") ///\n         eqlabels(\"(1) Alter\" \"(2) Bruttoeinkommen\" \"(3) Wochenarbeitszeit\") ///\n    collabels(none) ///\n         varwidth(22) ///\n         modelwidth(22)\n\n\n\n                                    (1) Alter       (2) Bruttoeinkommen     (3) Wochenarbeitszeit   \n----------------------------------------------------------------------------------------------------\n(1) Alter                             1.00000                                                       \n(2) Bruttoeinkommen                   0.07956***                1.00000                             \n(3) Wochenarbeitszeit                -0.05579***                0.29245***                1.00000   \n----------------------------------------------------------------------------------------------------"
  },
  {
    "objectID": "07_misc.html#excel-export",
    "href": "07_misc.html#excel-export",
    "title": "7  Weitere Optionen",
    "section": "7.2 Excel-Export",
    "text": "7.2 Excel-Export\nFür den Excel-Export können wir einfach using ...csv nutzen. Für deutschsprachige Systeme empfiehlt sich dabei aber, statt , ein ; als Spaltentrenner zu verwenden. Das können wir mit der Option scsv erreichen.\n\ncsv als Dateiendung produziert eine csv-Datei, die mit Excel geöffnet werden kann\nnostar empfiehlt sich für den Excel-Export, da Sternchen in Excel häufig zu Problemen führen\nscsv ; anstelle von , als Spaltenseparator\n\n\nesttab mod* using \"${results}\\tabelle1.csv\", cells(\"b(fmt(a3)) se(fmt(a3)) ci_l(fmt(a3)) ci_u(fmt(a3)) p(fmt(a3))\") scsv"
  },
  {
    "objectID": "02_tabstat.html#summarize",
    "href": "02_tabstat.html#summarize",
    "title": "2  Deskriptionen",
    "section": "2.1 summarize",
    "text": "2.1 summarize\nKlassiker für die Erstellung einer deskriptiven Übersicht in Stata ist summarize:\n\nsummarize zpalter\n\n\n\n    Variable |        Obs        Mean    Std. Dev.       Min        Max\n-------------+---------------------------------------------------------\n     zpalter |     19,836    47.19228    11.33762         15         87\n\n\nFlexibler und für unsere Zwecke passender ist tabstat:"
  }
]